## Configure tenant settings

<AccordionGroup>
  <Accordion title="1. Promote the connection to a domain-level connection">
    To allow third-party clients like MCP Inspector to use a connection such as a username-and-password database or a social connection, you need to promote the connection to a domain-level connection. [Learn more about enabling third-party applications](https://auth0.com/docs/get-started/applications/confidential-and-public-applications/enable-third-party-applications).
    <Steps>
      <Step title="List Your Connection">
        List your connections to get their IDs
        ```shell
        auth0 api get connections
        ```
      </Step>
      <Step title="Choose Your Connections">
        From the list, identify which connections you want to use for the MCP server and copy the ID.
          * For the username-and-password database, look for the connection with the strategy `auth0`.
          * For the Google social connection, look for the connection with the strategy `google-oauth2`.
      </Step>
      <Step title="Upgrade the Connection to Domain-Level">
        For each of those specific connection IDs, run the following command to mark it as a domain-level connection. Replace `YOUR_CONNECTION_ID` with the actual ID (e.g., `con_XXXXXXXXXXXXXXXX`).

        ```shell wrap lines
        auth0 api patch connections/YOUR_CONNECTION_ID --data '{"is_domain_connection": true}'
        ```
      </Step>
    </Steps>
  </Accordion>
  <Accordion title="2. Create roles (optional)">
    The sample application in this quickstart is prepared to show different tools depending on the role of a given user. For example, a Tool Administrator will have access to different tools than a Tool User.

    <Warning>If you decide to skip this step, you'll only have access to the tool `get_current_time`, which is the only tool in the sample apps that doesn't require any permissions.</Warning>

    If your application doesn't require that level of access, i.e., all users have access to available tools, this step is not required for your use case.

    Let's create roles that allow you to control which users can access which tools.

    For each role you need (e.g., "Tool Administrator", "Tool User"), run the create command as below.

    ```shell wrap lines
# Example for an admin role
    auth0 roles create --name "Tool Administrator" --description "Grants access to all MCP tools"

# Example for a basic user role
    auth0 roles create --name "Tool User" --description "Grants access to basic MCP tools"
    ```

    Save the IDs from the output (they start with `rol_`), as you'll need them in a later step to assign permissions and users to these roles.
  </Accordion>
  <Accordion title="3. Assign roles to users (optional)">
    <Warning>If you skipped creating roles in the step above, you can skip this step as well.</Warning>

    Find users and assign them to the roles. You can search by their email address:

    ```shell wrap lines
    auth0 users search --query "email:\"example@google.com\""
    ```

    Copy the user ID (`USERID`) from the last command's output, then assign the role to the user:

    ```shell wrap lines
    auth0 users roles assign "USER_ID_HERE" --roles "YOUR_ROLE_ID_HERE"
    ```
  </Accordion>
</AccordionGroup>
