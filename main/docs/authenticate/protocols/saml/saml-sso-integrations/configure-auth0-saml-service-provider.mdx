---
description: Describes how to configure Auth0 to serve as a service provider
  in a SAML federation.
'og:image': https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
'og:title': Configure Auth0 as SAML Service Provider
'og:url': https://auth0.com/docs/
permalink: configure-auth0-saml-service-provider
sidebarTitle: Overview
title: Configure Auth0 as SAML Service Provider
'twitter:description': Describes how to configure Auth0 to serve as a service provider
  in a SAML federation.
'twitter:title': Configure Auth0 as SAML Service Provider
---
To configure Auth0 as the service provider (SP) in a <Tooltip tip="Security Assertion Markup Language (SAML): Standardized protocol allowing two parties to exchange authentication information without a password." cta="View Glossary" href="/glossary?term=SAML">SAML</Tooltip> federation, you will need to create an Enterprise connection in Auth0 and then update your SAML <Tooltip tip="Security Assertion Markup Language (SAML): Standardized protocol allowing two parties to exchange authentication information without a password." cta="View Glossary" href="/glossary?term=identity+provider">identity provider</Tooltip> (IdP) with the connection's metadata.

Auth0 supports using Auth0 as the SP in configurations that conform to the SAML 1.1 or SAML 2.0 protocol.

## Get metadata and certificate from the IdP

You'll need to collect some configuration metadata from the IdP to create a connection in Auth0:

<table class="table"><thead>
<tr>
<th><strong>Field</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Sign In URL</td>
<td>The URL where SAML authentication requests are sent. This is also called the single sign-on (SSO) endpoint.</td>
</tr>
<tr>
<td>Sign Out URL</td>
<td>The URL where SAML logout requests are sent. This is also called the single logout (SLO) endpoint.</td>
</tr>
<tr>
<td>X509 Signing Certificate</td>
<td>The public-key certificate required by the SP to validate the signature of the authentication assertions that have been digitally signed by the IdP. Auth0 accepts the .pem and .cer formats.</td>
</tr>
</tbody>
</table>

## Create SAML Enterprise connection in Auth0

You can create a SAML Enterprise connection in the <Tooltip tip="Auth0 Dashboard: Auth0's main product to configure your services." cta="View Glossary" href="/glossary?term=Auth0+Dashboard">Auth0 Dashboard</Tooltip> or with the Auth0 <Tooltip tip="Management API: A product to allow customers to perform administrative tasks." cta="View Glossary" href="/glossary?term=Management+API">Management API</Tooltip>:

<Tabs><Tab title="Dashboard">

1. Go to [**Dashboard > Authentication > Enterprise**](https://manage.auth0.com/#/connections/enterprise/samlp) and select **SAML**.
2. Select **Create Connection**.
3. Configure the following settings:

<table class="table"><thead>
<tr>
<th><strong>Setting</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Connection Name</td>
<td>Enter a connection name such as <code>SAML-SP</code>.</td>
</tr>
<tr>
<td>Sign In URL</td>
<td>Enter the <strong>Sign In URL</strong> that you obtained from the IdP.</td>
</tr>
<tr>
<td>X509 Signing Certificate</td>
<td>Upload the X509 Signing Certificate file (in <code>.pem</code> or <code>.cer</code> format) that you obtained from the IdP.</td>
</tr>
<tr>
<td>Enable Sign Out</td>
<td>Enable the <strong>Sign Out URL</strong> field.</td>
</tr>
<tr>
<td>Sign Out URL</td>
<td>Enter the <strong>Sign Out URL</strong> obtained from the IdP.</td>
</tr>
<tr>
<td>User ID Attribute</td>
<td>Enter the attribute in the SAML token that will be mapped to the <code>user_id</code> property in Auth0. If not set, then the <code>user_id</code> will be retrieved from the following (in listed order):<ul><li><code>http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier</code></li><li><code>http://schemas.xmlsoap.org/ws/2005/05/identity/claims/upn</code></li><li><code>http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name</code></li></ul></td>
</tr>
<tr>
<td>Debug Mode</td>
<td>Enable <strong>Debug Mode</strong> for more verbose logging.</td>
</tr>
<tr>
<td>Sign Request</td>
<td>Enable signed SAML authentication requests.</td>
</tr>
<tr>
<td>Sign Request Algorithm</td>
<td>From the dropdown menu, select the hash algorithm to use.</td>
</tr>
<tr>
<td>Sign Request Algorithm Digest</td>
<td>From the dropdown menu, select the algorithm to use to check the validity of the assertion.</td>
</tr>
<tr>
<td>Protocol Binding</td>
<td>From the dropdown menu, select one of the following options:<ul><li><code>HTTP-Redirect</code>: Enables messages to be transmitted within URL parameters.</li><li><code>HTTP-POST</code>: Enables messages to be transmitted within an HTML form.</li></ul></td>
</tr>
<tr>
<td>Sync user profile attributes at each login</td>
<td>Enable syncing user profile attributes during each login.</td>
</tr>
</tbody>
</table>
4. Select **Create**.

</Tab><Tab title="Management API">

The Auth0 Management API [Create a Connection](https://auth0.com/docs/api/management/v2#!/Connections/post_connections) endpoint supports the following properties on the `options` object when creating a SAML connection:

<table class="table"><thead>
<tr>
<th><strong>Field</strong></th>
<th><strong>Type</strong></th>
<th><strong>Required?</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>signInEndpoint</code></td>
<td>String</td>
<td>Required</td>
<td>The <strong>Sign In URL</strong> of the IdP.</td>
</tr>
<tr>
<td><code>signingCert</code></td>
<td>String</td>
<td>Required</td>
<td>Contents of the X509 signing certificate (in <code>.pem</code> or <code>.cer</code> format) encoded in Base64.</td>
</tr>
<tr>
<td><code>debug</code></td>
<td>Boolean</td>
<td>Optional</td>
<td>Toggles <strong>Debug Mode</strong>, which includes more verbose logging during the authentication process. Set to <code>false</code> for connections used in production environments.</td>
</tr>
<tr>
<td><code>destinationUrl</code></td>
<td>String</td>
<td>Optional</td>
<td>The URL where Auth0 will send SAML authentication requests. Only required when using a proxy gateway.</td>
</tr>
<tr>
<td><code>digestAlgorithm</code></td>
<td>String</td>
<td>Optional</td>
<td>The algorithm used to encrypt the digest element of authentication requests.<br/><br/>Accepted values are <code>sha256</code> and <code>sha1</code>.</td>
</tr>
<tr>
<td><code>disableSignout</code></td>
<td>Boolean</td>
<td>Optional</td>
<td>Toggles the <strong>Sign Out URL</strong>. If <code>false</code>, you must provide a <strong>Sign Out URL</strong> to accept logout requests. If <code>true</code>, logout requests will be sent to the <strong>Sign In URL</strong>.</td>
</tr>
<tr>
<td><code>fieldsMap</code></td>
<td>Object</td>
<td>Optional</td>
<td>Contains attribute mappings to be applied to the authentication responses from the IdP.<br/><br/>For example: <code>"email": "http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier"</code>.</td>
</tr>
<tr>
<td><code>idpinitiated</code></td>
<td>Object</td>
<td>Optional</td>
<td>Contains options for IdP-Initiated SSO:<ul><li><code>enabled</code>: Boolean. Toggles IdP-Initiated SSO.</li><li><code>client_id</code>: String. The client ID of the default application.</li><li><code>client_protocol</code>: String. The response protocol used to communicate with the default application. Accepted values are <code>oauth2</code>, <code>samlp</code>, and <code>wsfed</code>.</li><li><code>client_authorizequery</code>: String. The query string sent to the default application.</li></ul></td>
</tr>
<tr>
<td><code>protocolBinding</code></td>
<td>String</td>
<td>Optional</td>
<td>The protocol binding used for authentication requests.<br/><br/>Accepted values are:<ul><li><code>urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect</code></li><li><code>urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST</code></li></ul></td>
</tr>
<tr>
<td><code>recipientUrl</code></td>
<td>String</td>
<td>Optional</td>
<td>The URL where the IdP will send SAML authentication responses. Only required when using a proxy gateway.</td>
</tr>
<tr>
<td><code>signatureAlgorithm</code></td>
<td>String</td>
<td>Optional</td>
<td>The algorithm used to sign authentication requests.<br/><br/>Accepted values are <code>rsa-sha256</code> and <code>rsa-sha1</code>.</td>
</tr>
<tr>
<td><code>signSAMLRequest</code></td>
<td>Boolean</td>
<td>Optional</td>
<td>Toggles the signing of authentication requests sent by Auth0.</td>
</tr>
<tr>
<td><code>user_id_attribute</code></td>
<td>String</td>
<td>Optional</td>
<td>The name of the attribute in the authentication responses to map to the User ID property. This field will supersede any mappings for the <code>user_id</code> property in the <code>fieldsMap</code> object.</td>
</tr>
</tbody>
</table>

#### Example request

```json lines expandable
{
	"strategy": "samlp",
	"name": "example-samlp-connection",
	"options": {
		"signingCert": "{X509_CERTIFICATE_IN_BASE64}",
		"signInEndpoint": "https://example.com/samlp/login",
		"disableSignout": false,
		"signOutEndpoint": "https://example.com/samlp/logout",
		"fieldsMap": {
			"email": "http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier",
			"user_id": [
				"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress",
				"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/upn",
				"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name"
			],
			"given_name": "http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier",
			"address_name": "http://schemas.auth0.com/address_name",
			"address_street_address": "http://schemas.auth0.com/address_street_address"
		},
		"user_id_attribute": "http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier",
		"idpinitiated": {
			"enabled": true,
			"client_id": "{DEFAULT_APPLICATION_CLIENT_ID}",
			"client_protocol": "oauth2",
			"client_authorizequery": "response_type=code&scope=openid email profile"
		},
		"signSAMLRequest": true,
		"signatureAlgorithm": "rsa-sha256",
		"digestAlgorithm": "sha256",
		"protocolBinding": "urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect",
		"debug": true
	}
}
```






</Tab></Tabs>

### Configure SAML connection for proxy gateways

If you have Auth0 behind a proxy gateway, you’ll need to configure the SAML connection’s `destinationUrl` and `recipientUrl` fields accordingly.

1. Get your SAML connection's current configuration with the Management API [Get a connection](https://auth0.com/docs/api/management/v2/connections/get-connections-by-id) endpoint.
2. Copy the value of the `options` object from the returned response.
3. Add the following fields to the `options` object:

<table class="table"><thead>
<tr>
<th><strong>Field</strong></th>
<th><strong>Type</strong></th>
<th><strong>Value</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>destinationUrl</code></td>
<td>String</td>
<td>URL of the proxy gateway.</td>
</tr>
<tr>
<td><code>recipientUrl</code></td>
<td>String</td>
<td>URL of the proxy gateway.</td>
</tr>
</tbody>
</table>
4. Call the Management API [Update a connection](https://auth0.com/docs/api/management/v2/connections/patch-connections-by-id) endpoint with the entire updated `options` object in the request body.

### Customize the request template

When Auth0 sends the authentication request to the IdP, the request body contains an `AuthnRequest` object. You can customize the template used for this object:

1. Go to [Dashboard > Authentication > Enterprise > SAML](https://manage.auth0.com/#/connections/enterprise/samlp), and select your connection.
2. Switch to the **Settings** view, and locate the **Request Template** field.
3. Modify the template.
4. Select **Save Changes**.

#### Template variables

Variables can be placed into the `AuthnRequest` template using the `@@VariableName@@` syntax. The following variables are available:

<table class="table"><thead>
<tr>
<th><strong>Name</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>AssertionConsumerServiceURL</code></td>
<td>The URL where the IdP sends the response after the user signs in. Include the <code>ProtocolBinding</code> attribute in the request template if you use this.</td>
</tr>
<tr>
<td><code>Connection.&lt;options-key&gt;</code></td>
<td>Use dot notation on the <code>Connection</code> key to access any of the connection's <code>options</code> values as returned from the Auth0 Management API's <a href="https://auth0.com/docs/api/management/v2/#!/Connections/get_connections_by_id">Get a Connection</a> endpoint. For example, if the connection has <code>options.some_property: "value"</code>, then you can use <code>@@Connection.some_property@@</code> in the template.</td>
</tr>
<tr>
<td><code>Destination</code></td>
<td>The URL where Auth0 sends the request. This should be the <strong>Sign In URL</strong> configured for the connection.</td>
</tr>
<tr>
<td><code>ID</code></td>
<td>The transaction ID.</td>
</tr>
<tr>
<td><code>IssueInstant</code></td>
<td>The transaction date timestamp.</td>
</tr>
<tr>
<td><code>Issuer</code></td>
<td>The entity ID of the SP in <code>urn</code> format. <br/><br/>For example, <code>urn:auth0:&lt;YOUR_AUTH0_TENANT_NAME&gt;:&lt;YOUR_AUTH0_CONNECTION_NAME&gt;</code>.</td>
</tr>
<tr>
<td><code>LoginHint</code></td>
<td>The username or email of the user logging in. If you are using <a href="/authenticate/login/auth0-universal-login/identifier-first">Identifier First Authentication</a>, Auth0 can send this value to the IdP to pre-populate it in the IdP's login form.</td>
</tr>
<tr>
<td><code>ProtocolBinding</code></td>
<td>The protocol <a href="https://www.ibm.com/support/knowledgecenter/en/SSPREK_9.0.4/com.ibm.isam.doc/config/concept/fed_SAML20_bindings.html">binding type</a>.</td>
</tr>
<tr>
<td><code>ProviderName</code></td>
<td>The name of the application that initiated the request. This always returns the Auth0 tenant name.</td>
</tr>
<tr>
<td><code>AssertServiceURLAndDestination</code></td>
<td>Deprecated. For new configurations, use <code>AssertionConsumerServiceURL</code> and <code>Destination</code> instead.</td>
</tr>
</tbody>
</table>

## Configure the IdP

Go to [SAML Identity Provider Configuration Settings](/authenticate/protocols/saml/saml-identity-provider-configuration-settings) to find the metadata you'll need to provide to the IdP.

Auth0 supports all SAML IdPs that conform to the SAML 1.1 or SAML 2.0 protocol. We have detailed instructions for configuring specific providers:

* [ADFS](/authenticate/protocols/saml/saml-sso-integrations/configure-auth0-saml-service-provider/configure-adfs-saml-connections)
* [Okta](/authenticate/protocols/saml/saml-sso-integrations/configure-auth0-saml-service-provider/configure-okta-as-saml-identity-provider)
* [OneLogin](/authenticate/protocols/saml/saml-sso-integrations/configure-auth0-saml-service-provider/configure-onelogin-as-saml-identity-provider)
* [Ping](/authenticate/protocols/saml/saml-sso-integrations/configure-auth0-saml-service-provider/configure-pingfederate-as-saml-identity-provider)
* [Salesforce](/authenticate/protocols/saml/saml-sso-integrations/configure-auth0-saml-service-provider/configure-salesforce-as-saml-identity-provider)
* [SiteMinder](/authenticate/protocols/saml/saml-sso-integrations/configure-auth0-saml-service-provider/configure-siteminder-as-saml-identity-provider)
* [SSOCircle](/authenticate/protocols/saml/saml-sso-integrations/configure-auth0-saml-service-provider/configure-ssocircle-as-saml-identity-provider)

## Test connection

To test your connection in the Dashboard:

1. Go to [Dashboard > Authentication > Enterprise > SAML](https://manage.auth0.com/#/connections/enterprise/samlp).
2. Locate the connection you created, select the **...** (three dots) menu icon, and select **Try**.
3. A Universal Login Page will appear and prompt you to enter credentials.
4. Enter the email address of a user who exists in the IdP. If you configured [Home Realm Discovery](/authenticate/login/auth0-universal-login/identifier-first#define-home-realm-discovery-identity-providers), make sure you enter an email address that uses one of the specified domains.
5. After you are redirected to the login screen for the IdP, log in as you normally would.
6. You will be redirected to a page on Auth0 that displays the contents of the authentication assertion sent to Auth0 from the IdP.

## Troubleshoot connection

If your connection is not working as expected, try the following steps:

* Clear your browser history, cookies, and cache before each test. If you do not, the browser may not pick up the latest configuration information, or it may have stale cookies that affect execution.
* Ensure that your browser allows cookies and has JavaScript enabled.
* [Capture a HAR file](/troubleshoot/troubleshooting-tools/generate-and-analyze-har-files) of the transaction, and then use the [Auth0 SAML Tool](http://samltool.io/) to decode the SAML assertion and inspect its contents.

## Learn more

* [Customize SAML Assertions](/authenticate/protocols/saml/saml-configuration/customize-saml-assertions)
* [Sign and Encrypt SAML Requests](/authenticate/protocols/saml/saml-sso-integrations/sign-and-encrypt-saml-requests)
* [Troubleshoot SAML Configurations](/troubleshoot/authentication-issues/troubleshoot-saml-configurations)
* [Troubleshoot SAML Errors](/troubleshoot/authentication-issues/saml-errors)