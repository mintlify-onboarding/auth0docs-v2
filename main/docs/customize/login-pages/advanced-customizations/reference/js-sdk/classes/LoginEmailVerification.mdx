---
title: "LoginEmailVerification"
description: "classdesc Manages interactions for the \"login-email-verification\" screen. This screen prompts the user to enter a one-time code sent to their email address to verify their identity during the login process. It provides methods to submit the entered code (`continueWithCode`) or to request a new code if the original one was not received or has expired (`resendCode`). Inherits from `BaseContext` to access shared authentication flow data like transaction state, client information, and internationalization texts."
---

<RequestExample>

```tsx React Component Example with TailwindCSS lines
import React, { useState, FormEvent, ChangeEvent, useMemo } from 'react';
import LoginEmailVerification, { ContinueWithCodeOptions, ResendCodeOptions } from '@auth0/auth0-acul-js/login-email-verification'; // Adjust path as necessary

const LoginEmailVerificationScreen: React.FC = () => {
  const [code, setCode] = useState<string>('');
  const [isSubmitting, setIsSubmitting] = useState<boolean>(false);
  const [uiMessages, setUiMessages] = useState<{ type: 'error' | 'success', text: string }[]>([]);
  const [disabled, setDisabled] = useState(false);
  const [remainingSeconds, setRemainingSeconds] = useState(0);

  // Instantiate the SDK class for the Login Email Verification screen
  // This should be done once per component instance.
  const [loginEmailVerificationManager] = useState(() => new LoginEmailVerification());
  const { screen, transaction, client } = loginEmailVerificationManager;

  function handleStatusChange(remainingSeconds: number, isDisabled: boolean) {
    setDisabled(isDisabled);
    setRemainingSeconds(remainingSeconds);
  }

  function handleTimeout() {
    console.log('Resend timeout completed');
  }

  const resendManager = useMemo(
    () =>
      loginEmailVerificationManager.resendManager({
        timeoutSeconds: 15,
        onStatusChange: handleStatusChange,
        onTimeout: handleTimeout,
      }),
    [loginEmailVerificationManager]
  );

  const { startResend } = resendManager;

  /**
   * Handles the change in the code input field.
   */
  const handleCodeChange = (event: ChangeEvent<HTMLInputElement>): void => {
    setCode(event.target.value);
  };

  /**
   * Handles the submission of the verification code.
   */
  const handleSubmitCode = async (event: FormEvent<HTMLFormElement>): Promise<void> => {
    event.preventDefault();
    if (!code.trim()) {
      setUiMessages([{ type: 'error', text: screen.texts?.noCodeError || 'Please enter a code.' }]);
      return;
    }
    setIsSubmitting(true);
    setUiMessages([]); // Clear previous messages

    try {
      const payload: ContinueWithCodeOptions = { code };
      await loginEmailVerificationManager.continueWithCode(payload);
      // On successful submission, Auth0 typically handles redirection.
      // If the page reloads with errors (e.g., invalid code), the useEffect hook will update uiMessages.
    } catch (error: any) {
      // Handles unexpected errors (e.g., network issues during form submission)
      setUiMessages([{ type: 'error', text: error.message || 'An unexpected error occurred. Please try again.' }]);
    } finally {
      setIsSubmitting(false);
    }
  };

  /**
   * Handles the request to resend the verification code.
   */
  const handleResendCode = async (): Promise<void> => {
    try {
      await startResend();
    } catch (error: any) {
      setUiMessages([{ type: 'error', text: error.message || 'Failed to resend code. Please try again.' }]);
    }
  };

  // Extract texts for UI elements, providing default fallbacks
  const texts = screen?.texts ?? {};
  const title = texts.title ?? 'Verify Your Email';
  const description = texts.description ?? `We've sent a verification code to your email address. Please enter it below to continue.`;
  const codeLabel = texts.codeLabel ?? 'Verification Code';
  const codePlaceholder = texts.codePlaceholder ?? 'Enter 6-digit code';
  const continueButtonText = texts.buttonText ?? 'Continue';
  const resendButtonText = texts.resendActionText ?? 'Resend Code';
  const submittingText = texts.submittingText ?? 'Processing...';


  return (
    <div className="flex flex-col items-center justify-center min-h-screen bg-gray-50 p-4 antialiased">
      <div className="w-full max-w-md bg-white rounded-xl shadow-xl p-8 space-y-6">
        {client.logoUrl && (
          <img 
            src={client.logoUrl} 
            alt={client.name || 'Client Logo'} 
            className="mx-auto h-12 w-auto mb-6" // Adjusted size
          />
        )}
        <div className="text-center">
          <h1 className="text-3xl font-bold text-gray-900">
            {title}
          </h1>
          <p className="mt-2 text-sm text-gray-600">
            {description}
          </p>
        </div>

        <form onSubmit={handleSubmitCode} className="space-y-6">
          <div>
            <label htmlFor="code" className="block text-sm font-medium text-gray-700">
              {codeLabel}
            </label>
            <input
              id="code"
              name="code"
              type="text"
              inputMode="numeric"
              autoComplete="one-time-code"
              required
              value={code}
              onChange={handleCodeChange}
              className="mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 
                         focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 
                         sm:text-sm transition duration-150 ease-in-out"
              placeholder={codePlaceholder}
              disabled={isSubmitting}
            />
          </div>

          {/* Display errors from the transaction object (e.g., invalid state) */}
          {transaction.errors && transaction.errors.length > 0 && (
            <div className="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4" role="alert">
              {transaction.errors.map((err, index) => (
                <p key={`tx-error-${index}`}>{err.message}</p>
              ))}
            </div>
          )}

          {/* Display errors/success caught during form submission */}
          {uiMessages.length > 0 && (
            <div className="space-y-2">
              {uiMessages.map((msg, idx) => (
                <div 
                  key={idx} 
                  role="alert"
                  className={`p-4 rounded-md text-sm ${
                    msg.type === 'error' ? 'bg-red-50 text-red-700 border border-red-200' : 
                                           'bg-green-50 text-green-700 border border-green-200'
                  }`}
                >
                  {msg.text}
                </div>
              ))}
            </div>
          )}

          <div>
            <button
              type="submit"
              disabled={isSubmitting || !code.trim()}
              className="w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm 
                         text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 
                         focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 
                         disabled:opacity-60 disabled:cursor-not-allowed transition duration-150 ease-in-out"
            >
              {isSubmitting ? submittingText : continueButtonText}
            </button>
          </div>
        </form>

        <div className="text-center">
          <button
            type="button"
            onClick={handleResendCode}
            disabled={isSubmitting || disabled}
            className="text-sm font-medium text-indigo-600 hover:text-indigo-500 
                       disabled:opacity-60 disabled:cursor-not-allowed transition duration-150 ease-in-out"
          >
            {isSubmitting ? submittingText : disabled ? `Resend code in ${remainingSeconds}s` : resendButtonText}
          </button>
        </div>
      </div>
    </div>
  );
};

export default LoginEmailVerificationScreen;
```

```typescript resendManager lines
import LoginEmailVerification from '@auth0/auth0-acul-js/login-email-verification';

const loginEmailVerification = new LoginEmailVerification();

function handleStatusChange(remainingSeconds: number, isDisabled: boolean) {
  console.log(`Resend available in ${remainingSeconds}s, disabled: ${isDisabled}`);
}

function handleTimeout() {
  console.log('Resend timeout completed');
}

const resendManager = loginEmailVerification.resendManager({
  timeoutSeconds: 15,
  onStatusChange: handleStatusChange,
  onTimeout: handleTimeout,
});

const { startResend } = resendManager;

// Use startResend() to initiate the resend with cooldown
startResend();
```

```jsx Initialize the SDK Class lines
import LoginEmailVerification from '@auth0/auth0-acul-js/login-email-verification';

const loginEmailVerificationManager = new LoginEmailVerification();

// You can now access screen data, transaction details, etc.
// For example, to get the page title defined in Auth0 dashboard:
const pageTitle = loginEmailVerificationManager.screen.texts?.title;

// To check for errors from a previous submission attempt:
const errors = loginEmailVerificationManager.transaction.errors;
if (errors && errors.length > 0) {
  errors.forEach(err => console.log(`Error: ${err.message}`));
}
```

```jsx Submit Verification Code lines
import LoginEmailVerification, { ContinueWithCodeOptions } from '@auth0/auth0-acul-js/login-email-verification';

const loginEmailVerificationManager = new LoginEmailVerification();
const userEnteredCode = "123456"; // Example code from user input

const payload: ContinueWithCodeOptions = {
  code: userEnteredCode,
  // You can add any custom options here if needed
  // customParam: "customValue" 
};

async function submitCode() {
  try {
    await loginEmailVerificationManager.continueWithCode(payload);
    // If the submission is successful and the code is valid,
    // Auth0 will typically redirect the user to the next step in the flow.
  } catch (error) {
    // This catch block handles unexpected errors during the submission itself (e.g., network issues).
    // Specific validation errors from Auth0 (like "invalid-code") will be available in
    // `loginEmailVerificationManager.transaction.errors` after the promise resolves or the page reloads.
    console.error('Failed to submit verification code:', error);
  }
}

submitCode();
```

```jsx Resend Verification Code lines
import LoginEmailVerification, { ResendCodeOptions } from '@auth0/auth0-acul-js/login-email-verification';

const loginEmailVerificationManager = new LoginEmailVerification();

// Optional: Define any custom options for the resend request
const payload: ResendCodeOptions = {
  // customParam: "anotherCustomValue"
};

async function resendVerificationCode() {
  try {
    await loginEmailVerificationManager.resendCode(payload);
    // A new code will be sent to the user's email.
    // The UI should ideally provide feedback to the user (e.g., "A new code has been sent.").
    // If Auth0 encounters an issue (e.g., "too-many-emails"), it will be reflected in
    // `loginEmailVerificationManager.transaction.errors` after the page re-renders or the promise resolves.
  } catch (error) {
    // Handles unexpected errors during the resend request (e.g., network issues).
    console.error('Failed to resend verification code:', error);
  }
}

resendVerificationCode();
```

</RequestExample>

## Properties

<ParamField path="screenIdentifier" type={<span>string</span>} required>
  The unique identifier for the Login Email Verification screen. This static property is used by the SDK's `BaseContext` to ensure that the class is instantiated in the correct screen context.
</ParamField>

<ParamField path="continueWithCode" type={<span>Promise&lt;void&gt;</span>} required>
  Submits the email verification code entered by the user to Auth0. This method prepares and posts the form data, including the verification code and the required `action: "default"`, to the `/u/login-email-verification` endpoint.
</ParamField>

<ParamField path="resendCode" type={<span>Promise&lt;void&gt;</span>} required>
  Requests Auth0 to send a new verification code to the user's email address. This is typically used when the user didn't receive the original code, or it has expired. This method posts form data with `action: "resend-code"` to the `/u/login-email-verification` endpoint.
</ParamField>

<ParamField path="resendManager" type={<span><a href="/docs/customize/login-pages/advanced-customizations/reference/js-sdk/interfaces/ResendControl">ResendControl</a></span>} required>
  Gets resend functionality with timeout management for this screen
</ParamField>

<ParamField path="branding" type={<span><a href="/docs/customize/login-pages/advanced-customizations/reference/js-sdk/interfaces/BrandingMembers">BrandingMembers</a></span>} required>
</ParamField>

<ParamField path="screen" type={<span><a href="/docs/customize/login-pages/advanced-customizations/reference/js-sdk/interfaces/ScreenMembers">ScreenMembers</a></span>} required>
</ParamField>

<ParamField path="tenant" type={<span><a href="/docs/customize/login-pages/advanced-customizations/reference/js-sdk/interfaces/TenantMembers">TenantMembers</a></span>} required>
</ParamField>

<ParamField path="prompt" type={<span><a href="/docs/customize/login-pages/advanced-customizations/reference/js-sdk/interfaces/PromptMembers">PromptMembers</a></span>} required>
</ParamField>

<ParamField path="organization" type={<span><a href="/docs/customize/login-pages/advanced-customizations/reference/js-sdk/interfaces/OrganizationMembers">OrganizationMembers</a></span>} required>
</ParamField>

<ParamField path="client" type={<span><a href="/docs/customize/login-pages/advanced-customizations/reference/js-sdk/interfaces/ClientMembers">ClientMembers</a></span>} required>
</ParamField>

<ParamField path="transaction" type={<span><a href="/docs/customize/login-pages/advanced-customizations/reference/js-sdk/interfaces/TransactionMembers">TransactionMembers</a></span>} required>
</ParamField>

<ParamField path="user" type={<span><a href="/docs/customize/login-pages/advanced-customizations/reference/js-sdk/interfaces/UserMembers">UserMembers</a></span>} required>
</ParamField>

<ParamField path="untrustedData" type={<span><a href="/docs/customize/login-pages/advanced-customizations/reference/js-sdk/interfaces/UntrustedDataMembers">UntrustedDataMembers</a></span>} required>
</ParamField>

<ParamField path="context" type={<span>UniversalLoginContext | null</span>}>
</ParamField>

<ParamField path="getContext" type={<span>UniversalLoginContext[K] | undefined</span>}>
  Retrieves a specific part of the Universal Login Context.
</ParamField>

<ParamField path="getErrors" type={<span>TransactionError[]</span>} required>
  Retrieves the array of transaction errors from the context, or an empty array if none exist.
</ParamField>

---

**File:** [src/screens/login-email-verification/index.ts](https://github.com/auth0/universal-login/blob/master/packages/auth0-acul-js/src/screens/login-email-verification/index.ts)
