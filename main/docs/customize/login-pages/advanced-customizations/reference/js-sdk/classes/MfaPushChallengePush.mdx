---
title: "MfaPushChallengePush"
description: "Class implementing the mfa-push-challenge-push screen functionality This screen is shown when a user needs to confirm a push notification during MFA"
---

<RequestExample>

```tsx React Component Example with TailwindCSS lines
import React, {
  useState,
  useEffect,
  useRef,
  useMemo,
} from 'react';
import MfaPushChallengePush from '@auth0/auth0-acul-js/mfa-push-challenge-push';

const MfaPushChallengePushScreen: React.FC = () => {
  const [isLoading, setIsLoading] = useState(false);
  const [rememberDevice, setRememberDevice] = useState(false);
  const [isPolling, setIsPolling] = useState(false);
  const mfaPushChallengePush = useMemo(() => new MfaPushChallengePush(), []);
  const { screen, transaction } = mfaPushChallengePush;
  const { deviceName, showRememberDevice } =
    mfaPushChallengePush.screen.data || {};
  const pollingControl = useRef<ReturnType<typeof mfaPushChallengePush.pollingManager> | null>(null); 

  useEffect(() => {
    const savedFormData = mfaPushChallengePush.untrustedData.submittedFormData;
    if (savedFormData?.rememberDevice !== undefined) {
      setRememberDevice(savedFormData.rememberDevice);
    }
  }, [mfaPushChallengePush.untrustedData.submittedFormData]);

  const screenText = {
    title: screen.texts?.title ?? 'Push Notification Sent',
    description:
      screen.texts?.description ??
      "We've sent a push notification to your device",
    rememberMe:
      screen.texts?.rememberMeText ?? 'Remember this device for 30 days',
    resend: screen.texts?.resendActionText ?? 'Resend Push Notification',
    enterCode: screen.texts?.enterOtpCode ?? 'Enter Code Manually',
    tryAnother: screen.texts?.pickAuthenticatorText ?? 'Try Another Method',
    waiting:
      screen.texts?.spinner_push_notification_label ??
      'Waiting for you to accept the push notification...',
    errorResend: 'Failed to resend push notification. Please try again.',
    errorManualCode: 'Failed to switch to manual code entry. Please try again.',
    errorAnotherMethod:
      'Failed to switch authentication method. Please try again.',
  };

  useEffect(() => {
    return () => {
      if (pollingControl.current) {
        pollingControl.current?.stopPolling();
      }
      setIsPolling(false);
    };
  }, []);

  const handleResend = async () => {
    setIsLoading(true);
    try {
      await mfaPushChallengePush.resendPushNotification({ rememberDevice });
    } catch (err) {
      console.log(err);
    } finally {
      setIsLoading(false);
    }
  };

  const handleEnterCodeManually = async () => {
    setIsLoading(true);
    try {
      await mfaPushChallengePush.enterCodeManually({ rememberDevice });
    } catch (err) {
      console.log(err);
    } finally {
      setIsLoading(false);
    }
  };

  const handleTryAnotherMethod = async () => {
    setIsLoading(true);
    try {
      await mfaPushChallengePush.tryAnotherMethod({ rememberDevice });
    } catch (err) {
      console.log(err);
    } finally {
      setIsLoading(false);
    }
  };

  const handleStartPolling = () => {
    if (!isPolling) {
      pollingControl.current = mfaPushChallengePush.pollingManager(
        5000,
        () => {
          mfaPushChallengePush.continue({ rememberDevice });
          setIsPolling(false);
        }
      );
      pollingControl.current?.startPolling();
      setIsPolling(true);
    }
  };

  const handleStopPolling = () => {
  if (pollingControl.current) {
    pollingControl.current?.stopPolling();
    setIsPolling(false);
  }
};

  return (
    <div className="min-h-screen bg-gray-100 flex flex-col items-center py-12 sm:px-6 lg:px-8">
      <div className="sm:mx-auto sm:w-full sm:max-w-md">
        <h2 className="mt-6 text-center text-3xl font-extrabold text-gray-900">
          {screenText.title}
        </h2>
        <p className="mt-2 text-left text-sm text-gray-600">
          {screenText.description}
          {deviceName && <span className="font-medium"> ({deviceName})</span>}
        </p>
      </div>

      <div className="mt-8 sm:mx-auto sm:w-full sm:max-w-md">
        <div className="bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10">
          <div className="space-y-4">
            <div className="flex items-center justify-center">
              <div className="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500" />
            </div>

            <p className="text-center text-sm text-gray-500">
              {isPolling ? screenText.waiting : 'Polling stopped.'}
            </p>

            {showRememberDevice && (
              <div className="flex items-center flex-start">
                <input
                  id="rememberDevice"
                  type="checkbox"
                  checked={rememberDevice}
                  onChange={(e) => setRememberDevice(e.target.checked)}
                  className="h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"
                />
                <label
                  htmlFor="rememberDevice"
                  className="ml-2 block text-sm text-left text-gray-700"
                >
                  {screenText.rememberMe}
                </label>
              </div>
            )}

            {transaction?.errors?.length && (
              <div className="mb-4 space-y-1">
                {transaction.errors.map((err, index) => (
                  <p key={index} className="text-red-600 text-sm text-center">
                    {err.message}
                  </p>
                ))}
              </div>
            )}

            <button
              onClick={handleResend}
              disabled={isLoading}
              className="w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50"
            >
              {screenText.resend}
            </button>

            <button
              onClick={handleStopPolling}
              disabled={!isPolling}
              className="w-full flex justify-center py-2 px-4 border border-red-500 rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50"
            >
              Stop Polling
            </button>

            <button
              onClick={handleStartPolling}
              className="w-full flex justify-center py-2 px-4 border border-green-500 rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50"
            >
              Start Polling
            </button>

            <button
              onClick={handleEnterCodeManually}
              disabled={isLoading}
              className="w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50"
            >
              {screenText.enterCode}
            </button>

            <button
              onClick={handleTryAnotherMethod}
              disabled={isLoading}
              className="w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50"
            >
              {screenText.tryAnother}
            </button>
          </div>
        </div>
      </div>
    </div>
  );
};

export default MfaPushChallengePushScreen;
```

```tsx Polling Usage Example (with stop/start) lines
import React, { useEffect, useRef } from 'react';
import MfaPushChallengePush from '@auth0/auth0-acul-js/mfa-push-challenge-push';

const mfaPushChallengePush = new MfaPushChallengePush();
const pollerRef = useRef(null);

useEffect(() => {
  // Start polling for push notification acceptance
  pollerRef.current = mfaPushChallengePush.pollingManager(5000, () => {
    mfaPushChallengePush.continue();
  });

  // To stop polling when component unmounts
  return () => {
    if (pollerRef.current) pollerRef.current.stopPolling();
  };
}, []);

// To manually stop polling
// pollerRef.current.stopPolling();

// To restart polling:
// pollerRef.current.startPolling();

// To check if polling is running:
// const isPolling = pollerRef.current.isRunning();
```

```javascript Plain JavaScript Usage lines
import MfaPushChallengePush from '@auth0/auth0-acul-js/mfa-push-challenge-push';

const mfaPushChallengePush = new MfaPushChallengePush();

// Get polling object
const polling = mfaPushChallengePush.pollingManager(5000, async () => {
  await mfaPushChallengePush.continue();
});

// Start polling
polling.startPolling();

polling.stopPolling();

console.log(polling.isRunning()); // true or false
```

```tsx React Usage Example lines
import React, { useEffect, useRef } from 'react';
import MfaPushChallengePush from '@auth0/auth0-acul-js/mfa-push-challenge-push';

const MfaPushChallengePushScreen: React.FC = () => {
  const mfaPushChallengePush = React.useMemo(() => new MfaPushChallengePush(), []);
  const pollingRef = useRef<any>(null);

  useEffect(() => {
    // Get polling object
    pollingRef.current = mfaPushChallengePush.pollingManager(5000, async () => {
      await mfaPushChallengePush.continue();
    });
    // Start polling
    pollingRef.current.startPolling();
    return () => {
      pollingRef.current?.stopPolling();
    };
  }, [mfaPushChallengePush]);


  return <div>...</div>;
};
```

```typescript Continue (Poll for Push Notification Acceptance) lines
import MfaPushChallengePush from '@auth0/auth0-acul-js/mfa-push-challenge-push';

const mfaPushChallengePush = new MfaPushChallengePush();

// Poll for push notification acceptance
const pollInterval = setInterval(async () => {
  try {
    await mfaPushChallengePush.continue();
    clearInterval(pollInterval);
  } catch (error) {
    
  }
}, 5000);
```

```typescript Resend Push Notification lines
import MfaPushChallengePush from '@auth0/auth0-acul-js/mfa-push-challenge-push';

const mfaPushChallengePush = new MfaPushChallengePush();
mfaPushChallengePush.resendPushNotification();
```

```typescript Enter Code Manually lines
import MfaPushChallengePush from '@auth0/auth0-acul-js/mfa-push-challenge-push';

const mfaPushChallengePush = new MfaPushChallengePush();
mfaPushChallengePush.enterCodeManually();
```

```typescript Try Another Method lines
import MfaPushChallengePush from '@auth0/auth0-acul-js/mfa-push-challenge-push';

const mfaPushChallengePush = new MfaPushChallengePush();
mfaPushChallengePush.tryAnotherMethod();
```

</RequestExample>

## Properties

<ParamField path="screenIdentifier" type={<span>string</span>} required>
</ParamField>

<ParamField path="screen" type={<span>ScreenOptions</span>} required>
</ParamField>

<ParamField path="untrustedData" type={<span>UntrustedDataOptions</span>} required>
</ParamField>

<ParamField path="continue" type={<span>Promise&lt;void&gt;</span>} required>
  Continues with the push notification challenge
</ParamField>

<ParamField path="resendPushNotification" type={<span>Promise&lt;void&gt;</span>} required>
  Resends the push notification
</ParamField>

<ParamField path="enterCodeManually" type={<span>Promise&lt;void&gt;</span>} required>
  Switches to entering the verification code manually
</ParamField>

<ParamField path="tryAnotherMethod" type={<span>Promise&lt;void&gt;</span>} required>
  Allows trying another authentication method
</ParamField>

<ParamField path="pollingManager" type={<span><a href="/docs/customize/login-pages/advanced-customizations/reference/js-sdk/interfaces/MfaPushPollingControl">MfaPushPollingControl</a></span>} required>
  Starts and manages polling for an MFA push challenge. Creates a polling session that repeatedly checks the MFA push challenge endpoint at the specified interval until the challenge is approved or an error occurs. When the approval condition is met, the provided callback is invoked and polling stops automatically. Use the returned to start, stop, or check the status of the polling process at any time.
</ParamField>

<ParamField path="branding" type={<span><a href="/docs/customize/login-pages/advanced-customizations/reference/js-sdk/interfaces/BrandingMembers">BrandingMembers</a></span>} required>
</ParamField>

<ParamField path="tenant" type={<span><a href="/docs/customize/login-pages/advanced-customizations/reference/js-sdk/interfaces/TenantMembers">TenantMembers</a></span>} required>
</ParamField>

<ParamField path="prompt" type={<span><a href="/docs/customize/login-pages/advanced-customizations/reference/js-sdk/interfaces/PromptMembers">PromptMembers</a></span>} required>
</ParamField>

<ParamField path="organization" type={<span><a href="/docs/customize/login-pages/advanced-customizations/reference/js-sdk/interfaces/OrganizationMembers">OrganizationMembers</a></span>} required>
</ParamField>

<ParamField path="client" type={<span><a href="/docs/customize/login-pages/advanced-customizations/reference/js-sdk/interfaces/ClientMembers">ClientMembers</a></span>} required>
</ParamField>

<ParamField path="transaction" type={<span><a href="/docs/customize/login-pages/advanced-customizations/reference/js-sdk/interfaces/TransactionMembers">TransactionMembers</a></span>} required>
</ParamField>

<ParamField path="user" type={<span><a href="/docs/customize/login-pages/advanced-customizations/reference/js-sdk/interfaces/UserMembers">UserMembers</a></span>} required>
</ParamField>

<ParamField path="context" type={<span>UniversalLoginContext | null</span>}>
</ParamField>

<ParamField path="getContext" type={<span>UniversalLoginContext[K] | undefined</span>}>
  Retrieves a specific part of the Universal Login Context.
</ParamField>

<ParamField path="getErrors" type={<span>TransactionError[]</span>} required>
  Retrieves the array of transaction errors from the context, or an empty array if none exist.
</ParamField>

---

**File:** [src/screens/mfa-push-challenge-push/index.ts](https://github.com/auth0/universal-login/blob/master/packages/auth0-acul-js/src/screens/mfa-push-challenge-push/index.ts)
