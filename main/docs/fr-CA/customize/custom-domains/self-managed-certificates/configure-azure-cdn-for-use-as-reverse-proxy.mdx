---
title: "Configurer CDN en tant que proxy inverse"
permalink: "configure-azure-cdn-for-use-as-reverse-proxy"
'description': "Apprenez à configurer Azure CDN pour l’utiliser comme proxy de domaine personnalisé pour Auth0."
'og:title': "Configurer CDN en tant que proxy inverse"
'og:description': "Apprenez à configurer Azure CDN pour l’utiliser comme proxy de domaine personnalisé pour Auth0."
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/img/share-image.png"
'twitter:title': "Configurer CDN en tant que proxy inverse"
'twitter:description': "Apprenez à configurer Azure CDN pour l’utiliser comme proxy de domaine personnalisé pour Auth0."
---

<Card title="La disponibilité varie selon le plan Auth0">

Votre plan Auth0 ou votre accord personnalisé ont un impact sur la disponibilité de cette fonctionnalité. Pour en savoir plus, lisez [Tarification](https://auth0.com/pricing).

</Card>

Un plan Azure CDN Premium est nécessaire pour configurer Azure CDN en tant que proxy inverse.

1. [Configurer des domaines personnalisés avec des certificats autogérés](/docs/fr-CA/customize/custom-domains/self-managed-certificates) si ce n’est déjà fait. Prenez note des valeurs **Nom du domaine d’origine** et **cname-api-key** car vous en aurez besoin plus tard.
2. Connectez-vous au [Portail Azure](https://portal.azure.com/).
3. [Créez un nouveau profil Azure CDN](https://docs.microsoft.com/en-us/azure/cdn/cdn-create-new-endpoint#create-a-new-cdn-profile).
4. [Créez un nouveau point de terminaison Azure CDN](https://docs.microsoft.com/en-us/azure/cdn/cdn-create-new-endpoint#create-a-new-cdn-endpoint) en utilisant le profil CDN que vous venez de créer. Pour les paramètres du point de terminaison CDN, indiquez le **Origin Domain Name (Nom de domaine d’origine)** à partir d’Auth0 Dashboard.
5. [Ajoutez votre domaine personnalisé à votre point de terminaison Azure CDN](https://docs.microsoft.com/en-us/azure/cdn/cdn-map-content-to-custom-domain).
6. [Configurez HTTPS pour votre domaine personnalisé Azure CDN](https://docs.microsoft.com/en-us/azure/cdn/cdn-custom-ssl?tabs=option-1-default-enable-https-with-a-cdn-managed-certificate). Pour cela, vous devez vérifier la propriété du domaine. Une fois cette opération effectuée, le déploiement du certificat vers tous les points de présence CDN peut prendre jusqu’à six heures.
7. Établissez la configuration pour la communication du domaine personnalisé avec Auth0 à l’aide du moteur de règles Azure CDN. (Pour en savoir plus, consultez la section [Remplacer le comportement HTTP en utilisant le moteur de règles Azure CDN de Verizon Premium](https://docs.microsoft.com/en-us/azure/cdn/cdn-verizon-premium-rules-engine) dans la documentation Microsoft). [Créez une nouvelle règle Azure CDN](https://docs.microsoft.com/en-us/azure/cdn/cdn-verizon-premium-rules-engine#tutorial) avec les paramètres suivants :

   <table class="table"><thead>
   <tr>
   <th>Paramètre</th>
   <th>Valeur</th>
   </tr>
   </thead>
   <tbody>
   <tr>
   <td>Nom/Description</td>
   <td>Domaine personnalisé Auth0</td>
   </tr>
   <tr>
   <td>Type de demandes</td>
   <td>Sélectionnez l’option <strong>Edge CName</strong>, puis sélectionnez votre nom de domaine personnalisé dans la liste.</td>
   </tr>
   </tbody>
   </table>
8. Ajoutez les **fonctionnalités** suivantes à votre règle Azure CDN :
   nous conseillons de créer une autre règle Azure CDN pour refuser l’utilisation du CNAME **azureedge.net**.

   <table class="table"><thead>
   <tr>
   <th>Paramètre</th>
   <th>Valeur</th>
   </tr>
   </thead>
   <tbody>
   <tr>
   <td>Cache Bypass</td>
   <td><strong>Activé</strong></td>
   </tr>
   <tr>
   <td>Modifier l’en-tête de requête client</td>
   <td>Sélectionnez <strong>Ignorer</strong>, saisissez <strong>cname-api-key</strong> comme nom, puis saisissez la clé API CNAME fournie par Auth0 comme valeur.</td>
   </tr>
   </tbody>
   </table>
9. Une fois la règle Azure CDN approuvée, l’état passe de XML en attente à XML actif. À ce stade, Azure CDN publiera les règles et certificats. Lorsque Azure a terminé le traitement de toutes les modifications, vous pouvez utiliser votre domaine personnalisé.

## En savoir plus

* [Configurer des fonctionnalités pour utiliser des Domaines personnalisés](/docs/fr-CA/customize/custom-domains/configure-features-to-use-custom-domains)
* [Dépanner les domaines personnalisés](/docs/fr-CA/troubleshoot/integration-extensibility-issues/troubleshoot-custom-domains)
* [Versions et suites cryptographiques TLS (SSL)](/docs/fr-CA/customize/custom-domains/self-managed-certificates/tls-ssl)