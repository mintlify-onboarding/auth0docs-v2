---
title: "Configurer Amazon Web Services pour Authentification Déléguée"
permalink: "how-to-set-up-aws-for-delegated-authentication"
'description': "Découvrez comment configurer Amazon Web Services (AWS) pour l’authentification déléguée."
'og:title': "Configurer Amazon Web Services pour Authentification Déléguée"
'og:description': "Découvrez comment configurer Amazon Web Services (AWS) pour l’authentification déléguée."
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/img/share-image.png"
'twitter:title': "Configurer Amazon Web Services pour Authentification Déléguée"
'twitter:description': "Découvrez comment configurer Amazon Web Services (AWS) pour l’authentification déléguée."
---

Vous pouvez configurer les Services Web Amazon (AWS) pour l’authentification déléguée avec Auth0. Pour en savoir plus, [Configurer Services Web Amazon pour l'authentification unique](/docs/fr-CA/customize/integrations/aws/configure-amazon-web-services-for-sso) et [Sécuriser les points de terminaison de la Passerelle API AWS en utilisant des autorisateurs personnalisés](/docs/fr-CA/customize/integrations/aws/aws-api-gateway-custom-authorizers).

## Créer un fournisseur SAML dans AWS

1. Connectez-vous à AWS et accédez à la [Console IAM](https://console.aws.amazon.com/iam). À partir du menu de navigation de gauche, sélectionnez **Fournisseurs d’identités**. Cliquez sur **Créer un Fournisseur**. Établissez les paramètres suivants :

   <table class="table"><thead>
   <tr>
   <th>Paramètre</th>
   <th>Description et valeur de l’échantillon</th>
   </tr>
   </thead>
   <tbody>
   <tr>
   <td>Type de fournisseur</td>
   <td>Le type de fournisseur. Défini comme <Tooltip tip="Security Assertion Markup Language (SAML) Protocole normalisé permettant à deux parties d’échanger des informations d’authentification sans mot de passe." cta="Voir le glossaire" href="/docs/glossary?term=security-assertion-markup-language">`SAML`</Tooltip></td>
   </tr>
   <tr>
   <td>Nom du Fournisseur</td>
   <td>Un nom descriptif pour le fournisseur, tel que `auth0SamlProvider`</td>
   </tr>
   <tr>
   <td>Document de métadonnées</td>
   <td>Téléverser le fichier contenant les métadonnées Auth0, qui se trouve dans <strong>Dashboard (Tableau de bord) &gt; Applications (Applications) &gt; Application Settings (Paramètres d’application) &gt; Advanced Settings (Paramètres avancés) &gt; Endpoints (Points de terminaison) &gt; SAML Metadata (Métadonnées SAML) URL</strong></td>
   </tr>
   </tbody>
   </table>
2. Cliquez sur **Prochaine étape**.
3. Vérifiez vos paramètres et cliquez sur **Créer** si tout est correct.

## Créer un rôle pour votre fournisseur SAML

Pour utiliser le fournisseur, vous devez créer un rôle IAM en utilisant le fournisseur dans la politique de confiance du rôle.

1. Dans la console IAM, accédez à [Rôles](https://console.aws.amazon.com/iam/home#/roles). Cliquez sur **Créer un rôle**. Vous serez redirigé vers la page **Confiance**. Indiquer **Saml 2.0 federation** sous **Sélectionner le type d’entité de confiance**. Fournir les valeurs suivantes :

   <table class="table"><thead>
   <tr>
   <th>Paramètre</th>
   <th>Valeur</th>
   </tr>
   </thead>
   <tbody>
   <tr>
   <td>Fournisseur SAML</td>
   <td>Le nom de votre nouveau rôle</td>
   </tr>
   <tr>
   <td>Attribut</td>
   <td>`SAML:iss`</td>
   </tr>
   <tr>
   <td>Valeur</td>
   <td>`urn:{yourDomain}`</td>
   </tr>
   </tbody>
   </table>
2. Cliquez sur **Suivant : Autorisations** pour procéder.
3. Vous devrez attacher des politiques d’autorisations à votre nouveau rôle. Vous y joignez une politique personnalisée. Pour en créer un, cliquez sur **Créer une politique**.
4. Dans l’éditeur de **création de politique** qui s’ouvre, passez à l’onglet **JSON**. Ajoutez une politique personnalisée.

   ```json lines
   {
     "Version": "2012-10-17",
     "Statement": [{
         "Effect": "Allow",
         "Action": [
           "*"
         ],
         "Resource": [
         "arn:aws:s3:::{yourBucket}/<%= '${saml:sub}' %>",
         "arn:aws:s3:::{yourBucket}/<%= '${saml:sub}' %>/*"]
     }]
   }
   ```

   

   

   Celle-ci définit les autorisations que les utilisateurs auxquels ce rôle a été attribué auront avec AWS. Cliquez sur **Réviser la politique**.
5. Passez en revue la politique que vous avez créée. Assurez-vous de fournir un **Nom** pour votre politique et (éventuellement) une **Description**.
6. Cliquez sur **Créer une politique** lorsque vous avez terminé. Si la procédure est réussie, le message suivant s’affiche pour confirmer la création de votre nouvelle politique : « auth0SamlRolePolicy a été créé ».
7. En revenant à l’assistant de création de rôle (vous devriez être à l’étape **2 - Autorisations**), trouvez la nouvelle politique que vous venez de créer et cliquez sur sa case à cocher pour attacher la politique à votre rôle. Nous vous recommandons d’utiliser le filtre **Géré par le Client** pour trouver votre politique.
8. Cliquez sur **Suivant : Réviser** pour continuer.
9. Passez en revue les informations sur votre rôle, indiquez un **Nom du rôle** et éventuellement une **Description du rôle**. Vous verrez également la politique que vous avez jointe. Si tout semble correct, cliquez sur **Créer un rôle** pour continuer.
10. Une fois créés, vous pouvez trouver vos rôles sur la page principale des **Rôles**.

## Copier les valeurs ARN

Les instructions suivantes vous indiqueront où trouver les valeurs ARN du Fournisseur et du Rôle.

### ARN Fournisseur

Dans la console IAM, accédez à [Fournisseurs d’identités](https://console.aws.amazon.com/iam/home#/providers). Sélectionnez le rôle qui vous intéresse pour ouvrir sa page récapitulative. Copiez la valeur **ARN Fournisseur**, qui est répertoriée en premier sous **Résumé**.

### ARN du Rôle

Dans la console IAM, accédez à [Rôles](https://console.aws.amazon.com/iam/home#/roles). Sélectionnez le rôle qui vous intéresse pour ouvrir sa page récapitulative. Copiez la valeur **ARN du Rôle**, qui est répertoriée en premier sous **Résumé**.