---
title: "Outil Deploy CLI"
permalink: "deploy-cli-tool"
'description': "Découvrez l’outil Auth0 Deploy CLI et son fonctionnement."
'og:title': "Outil Deploy CLI"
'og:description': "Découvrez l’outil Auth0 Deploy CLI et son fonctionnement."
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/img/share-image.png"
'twitter:title': "Outil Deploy CLI"
'twitter:description': "Découvrez l’outil Auth0 Deploy CLI et son fonctionnement."
---

<Card title="Avant de commencer">

Configurez un [locataire Auth0](https://manage.auth0.com/).

</Card>

L’outil Auth0 Deploy CLI est un outil qui vous aide à gérer la configuration de votre locataire Auth0.Il s’intègre dans vos flux de développement en tant qu’interface de ligne de commande ou en tant que module de nœud.

Types de ressources pris en charge : `actions`, `branding`, `client grants`, `clients (applications)`, `connections`, `custom domains`, `email templates`, `emails`, `grants`, `guardian`, `hook secrets`, `log streams`, `migrations`, `organizations`, `pages`, `prompts`, `resource servers (APIs)`, `roles`, `tenant settings`, `themes`.

## Points forts

* **Orienté multi-environnement :** conçu pour vous aider à tester les intégrations Auth0 de vos applications depuis la branche fonctionnelle jusqu’à la production.
* **Remplacement de mots clés :** configurations de ressources partagées dans tous les environnements avec remplacement dynamique des mots clés.
* **Polyvalence :** s’intègre à vos flux de travail CI/CD soit en tant qu’interface de ligne de commande, soit en tant que module Node.

## Débuter

Ce guide vous aidera à mettre en œuvre l’outil Deploy CLI en tant qu’interface de ligne de commande autonome. Il y a trois étapes principales avant que l’outil Deploy CLI puisse être exécuté :

1. [Créer une application Auth0 dédiée](#create-a-dedicated-auth0-application)
2. [Configurer l’outil Deploy CLI](#configure-the-deploy-cli)
3. [Appeler l’outil Deploy CLI](#call-the-deploy-cli)

<Warning>

Cet outil peut être destructeur pour votre locataire Auth0. Il est conseillé de se familiariser avec la  [configuration AUTH0_ALLOW_DELETE](https://auth0.com/docs/deploy-monitor/deploy-cli-tool/configuring-the-deploy-cli#auth0_allow_delete) et de faire des tests sur des locataires de développement avant de l’utiliser en production.

</Warning>

### Installer l’outil Deploy CLI

Pour exécuter en tant qu’outil de ligne de commande autonome :

`npm install -g auth0-deploy-cli`

### Créer une application Auth0 dédiée

Pour que l’outil Auth0 Deploy CLI puisse appeler <Tooltip href="/docs/fr-CA/glossary?term=management-api" tip="Management API
Un produit permettant aux clients d’effectuer des tâches administratives." cta="Voir le glossaire">Management API</Tooltip>, une application Auth0 dédiée doit être créée pour effectuer les appels au nom de l’outil :

1. Rendez-vous dans **Auth0 Dashboard> Applications > Applications**.
2. Sélectionnez **+ Créer une application**.

   1. Donnez-lui un nom descriptif (tel que « Deploy CLI »).
   2. Sélectionnez **Applications de communication entre machines** pour  **Type d’application**.
   3. Sélectionnez **Créer**.
3. Passez à la vue **Autoriser les applications de communication entre machines** :

   1. Sélectionnez **Auth0 Management API**.
   2. Sélectionnez les autorisations appropriées pour les ressources que vous souhaitez gérer. Reportez-vous à la section [Permissions du client](#client-scopes) pour plus d’informations.
   3. Sélectionnez **Autoriser**.

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

Le client de Deploy CLI n’est pas configurable par lui-même, cela afin de [prévenir des changements potentiellement destructeurs](https://auth0.com/docs/deploy-monitor/deploy-cli-tool/resource-specific-documentation#client-grants).

</Callout>

#### Permissions du client

L’application désignée doit se voir attribuer des permissions afin de permettre à l’outil Deploy CLI d’exécuter des opérations de gestion.

Le principe du moindre privilège est respecté, de sorte qu’il fonctionnera dans le cadre des autorisations accordées. Dans le cas de la gestion des ressources, vous devrez sélectionner `read:clients`, mais il est recommandé de sélectionner les autorisations `read:*`, `create:*` et `update:*` pour tous les types de ressources dans le cadre de la gestion. Pour permettre les suppressions, vous devez activer `delete:*` dans les permissions.

### Configurer l’outil Deploy CLI

Vous pouvez configurer l’outil Deploy CLI de deux manières :

1. Utiliser le fichier de configuration (`config.json`).
2. Définissez les variables d’environnement.

La décision de choisir l’un ou l’autre ou les deux dépend de votre cas d’utilisation particulier et de vos préférences. Pour en savoir plus, consultez [Configurer l’outil Deploy CLI](/docs/fr-CA/deploy-monitor/deploy-cli-tool/configure-the-deploy-cli).

Pour cet exemple, définissez les variables d’environnement suivantes :

* `AUTH0_DOMAIN`
* `AUTH0_CLIENT_ID`
* `AUTH0_CLIENT_SECRET`

Ces valeurs se trouvent dans l’onglet **Paramètres** de l’application Auth0 dédiée que vous avez créée précédemment.

### Appeler l’outil Deploy CLI

La commande `export` de l’outil Deploy CLI peut être exécutée avec la commande suivante :

`a0deploy export --format=yaml --output_folder=local`

Une fois le processus terminé, observez les fichiers de configuration des ressources générés dans le répertoire local. Ensuite, exécutez la commande `import` pour pousser la configuration depuis votre machine locale vers votre locataire Auth0 :

`a0deploy import --config_file=config.json --input_file local/tenant.yaml`

Pour une liste complète des drapeaux et des options, veuillez lire [Utiliser comme interface de ligne de commande](/docs/fr-CA/deploy-monitor/deploy-cli-tool/use-as-a-cli).