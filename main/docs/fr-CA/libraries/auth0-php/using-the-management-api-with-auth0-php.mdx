---
title: "PHPÂ : Utiliser Management API avec Auth0-PHP"
permalink: "using-the-management-api-with-auth0-php"
'description': "IntÃ©grer les points de terminaison de Management API dâ€™Auth0 dans vos applications PHP."
'og:title': "PHPÂ : Utiliser Management API avec Auth0-PHP"
'og:description': "IntÃ©grer les points de terminaison de Management API dâ€™Auth0 dans vos applications PHP."
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/img/share-image.png"
'twitter:title': "PHPÂ : Utiliser Management API avec Auth0-PHP"
'twitter:description': "IntÃ©grer les points de terminaison de Management API dâ€™Auth0 dans vos applications PHP."
---

La trousse SDK Auth0 pour PHP fournit une classe `Auth0\SDK\API\Management`, qui contient les mÃ©thodes que vous pouvez utiliser pour accÃ©der Ã  la [Management API](https://auth0.com/docs/api/management/v2) et effectuer des opÃ©rations sur votre locataire Auth0. En utilisant cette interface, vous pouvez facilementÂ :

* Rechercher et crÃ©er des utilisateurs
* CrÃ©er et mettre Ã  jour des applications
* RÃ©cupÃ©rer des entrÃ©es de journal
* GÃ©rer les rÃ¨gles

â€¦ et bien dâ€™autres choses encore. Consultez notre [RÃ©fÃ©rence pour lâ€™API](https://auth0.com/docs/api/management/v2) pour en savoir plus sur les possibilitÃ©s!
Authentification

Pour utiliser <Tooltip href="/docs/fr-CA/glossary?term=management-api" tip="Management API
Un produit permettant aux clients dâ€™effectuer des tÃ¢ches administratives." cta="Voir le glossaire">Management API</Tooltip>, vous devez vous authentifier de lâ€™une des deux maniÃ¨res suivantesÂ :

* Pour un accÃ¨s temporaire ou des tests, vous pouvez [gÃ©nÃ©rer manuellement un jeton API](/docs/fr-CA/secure/tokens/access-tokens/management-api-access-tokens) et lâ€™enregistrer dans votre fichier `.env`.
* Pour un accÃ¨s Ã©tendu, vous devez crÃ©er et exÃ©cuter une autorisation Authentifiants client lorsque lâ€™accÃ¨s est requis. Ce processus est dÃ©taillÃ© sur la [page Authentication API](/docs/fr-CA/libraries/auth0-php/using-the-authentication-api-with-auth0-php).

Quelle que soit la mÃ©thode utilisÃ©e, le jeton gÃ©nÃ©rÃ© doit avoir la permission requise pour les opÃ©rations que votre application souhaite exÃ©cuter. Consultez la [documentation de lâ€™API](/docs/fr-CA/api/management/v2) pour connaÃ®tre les permissions requises pour le point de terminaison spÃ©cifique auquel vous essayez dâ€™accÃ©der.

Pour autoriser les permissions nÃ©cessairesÂ :

1. AccÃ©dez Ã  lâ€™onglet [API](https://manage.auth0.com/#/apis) > Auth0 Management API > **Applications de communication entre machines**.
2. Trouvez votre application et autorisez-la.
3. Cliquez sur la flÃ¨che pour dÃ©velopper la ligne et sÃ©lectionnez les permissions requises.

Vous pouvez maintenant vous authentifier de lâ€™une des deux maniÃ¨res dÃ©crites ci-dessus et utiliser ce jeton pour effectuer des opÃ©rationsÂ :

```php lines
// ðŸ‘† We're continuing from the "getting started" guide linked in "Prerequisites" above. Append this to the index.php file you created there.

if (isset($env['AUTH0_MANAGEMENT_API_TOKEN'])) {
    $auth0->configuration()->setManagementToken($env['AUTH0_MANAGEMENT_API_TOKEN']);
}

// Create a configured instance of the `Auth0\SDK\API\Management` class, based on the configuration we setup the SDK ($auth0) using.
// If no AUTH0_MANAGEMENT_API_TOKEN is configured, this will automatically perform a client credentials exchange to generate one for you, so long as a client secret is configured.
$management = $auth0->management();
```

La classe `Management` stocke lâ€™accÃ¨s aux points de terminaison sous forme de mÃ©thodes Â«Â fabriqueÂ Â» de ses instances, par exemple `$management->users()` renvoie une instance de `Auth0\SDK\API\Management\Users` que vous pouvez utiliser pour interagir avec les points de terminaison/utilisateurs du Management API.

### Exemple - Recherche dâ€™utilisateurs par courriel

Ce point de terminaison est documentÃ© [ici](/docs/fr-CA/api/management/v2#!/Users/get_users).

```php lines
// ðŸ‘† We're continuing from the code above. Append this to your source code file.

$response = $management->users()->getAll(['q' => 'josh']);

// Does the status code of the response indicate failure?
if ($response->getStatusCode() !== 200) {
    die("API request failed.");
}

// Decode the JSON response into a PHP array:
$response = json_decode(response->getBody()->__toString(), true, 512, JSON_THROW_ON_ERROR);

if (! empty($response)) {
    echo '<h2>User Results</h2>';

    foreach ($response as $result) {
        printf(
            '<p><strong>%s</strong> &lt;%s&gt; - %s</p>',
            !empty($result['nickname']) ? $result['nickname'] : 'No nickname',
            !empty($result['email']) ? $result['email'] : 'No email',
            $result['user_id']
        );
    }
}
```

### Exemple - Obtenir tous les clients

Ce point de terminaison est documentÃ© [ici](/docs/fr-CA/api/management/v2#!/Clients/get_clients).

```php lines
// ðŸ‘† We're continuing from the code above. Append this to your source code file.

$response = $management->clients()->getAll(['q' => 'josh']);

// Does the status code of the response indicate failure?
if ($response->getStatusCode() !== 200) {
    die("API request failed.");
}

// Decode the JSON response into a PHP array:
$response = json_decode(response->getBody()->__toString(), true, 512, JSON_THROW_ON_ERROR);

if (! empty($response)) {
    echo '<h2>Get All Clients</h2>';

    foreach ($response as $result) {
        printf(
            '<p><strong>%s</strong> - %s</p>',
            $result['name'],
            $result['client_id']
        );
    }
}
```

## En savoir plus

* [PHPÂ : Premiers pas avec Auth0-PHP](/docs/fr-CA/libraries/auth0-php)
* [PHPÂ : Connexion, dÃ©connexion et restitution des profils utilisateurs avec Auth0-PHP](/docs/fr-CA/libraries/auth0-php/auth0-php-basic-use)
* [PHPÂ : Utiliser lâ€™Authentication API avec Auth0-PHP](/docs/fr-CA/libraries/auth0-php/using-the-authentication-api-with-auth0-php)
* [PHPÂ : valider les jetons WebÂ JSON (JWT) avec Auth0-PHP](/docs/fr-CA/libraries/auth0-php/validating-jwts-with-auth0-php)
* [PHPÂ : DÃ©pannage de votre intÃ©gration Auth0-PHP](/docs/fr-CA/libraries/auth0-php/troubleshoot-auth0-php-library)