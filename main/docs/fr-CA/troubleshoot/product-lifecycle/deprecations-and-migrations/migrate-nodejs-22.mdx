---
title: "Migrer depuis Node 18 vers Node 22"
permalink: "migrate-nodejs-22"
'description': "Décrit les éléments Auth0 Actions affectées par Node.js 18"
'og:title': "Migrer depuis Node 18 vers Node 22"
'og:description': "Décrit les éléments Auth0 Actions affectées par Node.js 18"
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/img/share-image.png"
'twitter:title': "Migrer depuis Node 18 vers Node 22"
'twitter:description': "Décrit les éléments Auth0 Actions affectées par Node.js 18"
---

Depuis le 15 janvier 2025, l’environnement d’exécution de l’extensibilité de la version 22 de Node est généralement disponible sur l’ensemble de notre suite d’offres d’extensibilité. Cela inclut les Actions, Règles, Hooks, scripts de base de données et connexions personnalisées avec les réseaux sociaux. Nous vous encourageons vivement à mettre à jour vers Node 22 dès que possible pour adhérer aux meilleures pratiques de sécurité du code.

### Considérations générales

* Le code au niveau module de vos Actions est maintenant invoqué une fois par instance de votre Action, et peut être réutilisé selon les besoins sur de nombreuses exécutions.
* Pour connaître les modules disponibles dans le nouvel environnement d’exécution, consultez [Ai-je besoin de l’extensibilité Auth0](https://auth0-extensions.github.io/canirequire/).
* La directive « `use npm` » n’est plus disponible dans Node 22.
* L’accès en écriture au système de fichiers a été désactivé.

### Intégrations Marketplace

#### Intégrations des connexions avec les réseaux sociaux

Utilisez [Management API](/docs/fr-CA/api/management/v2) pour identifier une liste complète des connexions avec les réseaux sociaux qu’un changement de version de l’environnement d’exécution de Node peut affecter. Plus particulièrement, toutes les connexions avec les réseaux sociaux potentiellement affectées, qu’elles soient explicitement créées en tant que connexion avec les réseaux sociaux personnalisée ou initialement ajoutées par la place du marché, ont une valeur `strategy` établie sur `oauth1` ou `oauth2`.

Vous pouvez ensuite paginer à travers toutes les connexions personnalisées avec les réseaux sociaux existantes dans un locataire donné à l’aide du point de terminaison [GET all connections](/docs/fr-CA/api/management/v2#!/Connections/get_connections). Par exemple, les options de requête suivantes renvoient les noms et identifiants d’un maximum de 100 connexions personnalisées avec les réseaux sociaux :

```http wrap lines
/api/v2/connections?strategy=oauth1&strategy=oauth2&include_totals=true&fields=name&per_page=100
```

L’<Tooltip href="/docs/fr-CA/glossary?term=auth0-dashboard" tip="Auth0 Dashboard
Principal produit d’Auth0 pour configurer vos services." cta="Voir le glossaire">Auth0 Dashboard</Tooltip> ne permet pas de mettre à jour les scripts pour les connexions personnalisées avec les réseaux sociaux ajoutées par Marketplace Si une modification de script est nécessaire pour être compatible avec la version 22 de Node, vous devez utiliser <Tooltip href="/docs/fr-CA/glossary?term=management-api" tip="Management API
Un produit permettant aux clients d’effectuer des tâches administratives." cta="Voir le glossaire">Management API</Tooltip>.

## Tâches de migration

### Créer de nouvelles actions personnalisées

Pour créer une nouvelle action personnalisée avec la version de Node 22 par l’Auth0 Dashboard :

1. Naviguez vers [Auth0 Dashboard > Actions > Forms (Formulaires)](https://manage.auth0.com/#/dashboard/actions/library).
2. Sélectionnez **Create Action (Créer une action) &; Build from scratch (Construire à partir de zéro)**.
3. Dans le champ **Runtime (Exécution)\***, sélectionnez **Node 22 (Recommended)**.
4. Écrivez vos actions personnalisées dans la version 22 de Node, puis testez et déployez-les lorsqu’elles sont prêtes.

### Mettre à niveau des actions personnalisées existantes

Vous pouvez mettre à niveau individuellement les Actions personnalisées existantes construites sur la version 12, 12 ou 18 de Node vers Node 22, puis [revenir à la version précédente](/docs/fr-CA/customize/actions/manage-versions#revert-actions) en utilisant l’ancien environnement d’exécution. Mettez à jour les Actions vers la version de Node 22 en créant et en déployant une nouvelle version de l’implémentation actuelle pour utiliser Node 22 comme environnement d’exécution.

### Choisissez la version 22 de Node pour les autres produits d’extensibilité

Le temps d’exécution utilisé pour les offres d’extensibilité restantes (autres que les actions) est défini globalement au niveau des paramètres avancés du locataire. La modification de ce paramètre affecte simultanément les fonctionnalités suivantes :

* règles
* appels
* scripts personnalisés de base de données
* scripts de connexion personnalisée avec les réseaux sociaux

Pour modifier le paramètre d’exécution de l’extensibilité du locataire dans l’Auth0 Dashboard :

1. Naviguez vers **Dashboard > Settings (Paramètres) > Advanced (Avancés)**.
2. Faites défiler jusqu’à la section **Extensibilité**.
3. Pour **Runtime (Environnement d’exécution)**, sélectionnez **Node 22**.
4. Pour **Legacy Extensibility (Extensibilité héritée)**, sélectionnez la version de l’environnement d’exécution le cas échéant.

Étant donné qu’il s’agit d’un paramètre global qui a un impact simultané sur plusieurs fonctionnalités d’extensibilité, nous vous recommandons d’effectuer d’abord cette étape dans votre locataire de développement, de tester toutes les fonctionnalités d’extensibilité applicables et de ne passer à votre locataire de production que lorsque vous ne voyez aucun problème en cours de développement.

En particulier avec les scripts de bases de données personnalisés, vous pouvez [suivre les étapes expliquées sur cette page](/docs/fr-CA/authenticate/database-connections/custom-db/custom-database-connections-scripts/environment) pour vérifier individuellement un script par rapport à une version d’exécution spécifique avant de procéder à la modification de la version d’exécution globale.