---
title: "Ajouter des permissions/autorisations pour appeler les API du fournisseur d’identité"
permalink: "adding-scopes-for-an-external-idp"
'description': "Décrit comment ajouter des permissions à votre connexion IdP."
'og:title': "Ajouter des permissions/autorisations pour appeler les API du fournisseur d’identité"
'og:description': "Décrit comment ajouter des permissions à votre connexion IdP."
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/img/share-image.png"
'twitter:title': "Ajouter des permissions/autorisations pour appeler les API du fournisseur d’identité"
'twitter:description': "Décrit comment ajouter des permissions à votre connexion IdP."
---
import {AuthCodeBlock} from "/snippets/AuthCodeBlock.jsx";


Une fois qu’un utilisateur est connecté, vous pouvez obtenir son profil utilisateur, puis le `accessToken` associé pour appeler les API du fournisseur d’identité (<Tooltip href="/docs/fr-ca/glossary?term=idp" tip="Fournisseur d’identité (IdP)
Service de stockage et de gestion des identités numériques." cta="Voir le glossaire">IdP</Tooltip>) comme décrit dans [Appeler une API de fournisseur d’identité](/docs/fr-ca/authenticate/identity-providers/calling-an-external-idp-api).

Cependant, si vous recevez le message `Access Denied` lors de l’appel à l’API de l’IdP, vous n’avez probablement pas demandé les permissions correctes pour l’utilisateur lors de la connexion. Vous pouvez demander les permissions nécessaires de deux manières.

## En modifiant les paramètres du fournisseur d’identités

Pour configurer les permissions nécessaires de l’utilisateur, allez à [Auth0 Dashboard > Authentification > Social](https://manage.auth0.com/#/connections/social) et sélectionnez un IdP. Vous pouvez sélectionner les permissions requises dans l’écran de configuration.

Par exemple, si vous cliquez sur la connexion **Google/Gmail** vous pouvez configurer les permissions spécifiques à Google :

<Frame>![Autorisations pour Google](/docs/images/fr-ca/cdy7uua7fh8z/61ACa6hnMtO5aUjus0fCb7/5bd5b5176ba7b0a42dc421bf4911b382/2025-02-25_12-08-09.png)</Frame>

## En transmettant les permissions au point de terminaison Authorize

Vous pouvez également transmettre les permissions que vous souhaitez demander sous la forme d’une liste séparée par des virgules dans le paramètre `connection_scope` lors de l’appel du [point de terminaison authorize](/docs/fr-ca/api/authentication#login). Par exemple, si vous souhaitez demander les permissions `https://www.googleapis.com/auth/contacts.readonly` et `https://www.googleapis.com/auth/analytics` de Google, vous pouvez le faire avec le paramètre `connection` pour garantir que l’utilisateur se connecte avec son compte Google :

export const codeExample = `https://{yourDomain}/authorize
  ?response_type=id_token
  &client_id={yourClientId}
  &redirect_uri={https://yourApp/callback}
  &scope=openid%20profile
  &connection=google-oauth2
  &connection_scope=https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fanalytics%2Chttps%3A%2F%2Fwww.googleapis.com%2Fauth%2Fcontacts.readonly
  &nonce=abc`;

<AuthCodeBlock children={codeExample} language="text" lines />

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

Veuillez noter que dans l’exemple de requête ci-dessus, la valeur du paramètre `connection_scope` est codée dans l’URL. La valeur décodée transmise à Google est la suivante : `https://www.googleapis.com/auth/analytics, https://www.googleapis.com/auth/contacts.readonly`

</Callout>

