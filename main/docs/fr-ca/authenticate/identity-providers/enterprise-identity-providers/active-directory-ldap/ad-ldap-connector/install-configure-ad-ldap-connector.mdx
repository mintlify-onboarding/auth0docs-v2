---
title: "Installer et configurer le connecteur AD/LDAP"
permalink: "install-configure-ad-ldap-connector"
'description': "Décrit comment installer et configurer le connecteur AD/LDAP."
'og:title': "Installer et configurer le connecteur AD/LDAP"
'og:description': "Décrit comment installer et configurer le connecteur AD/LDAP."
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/img/share-image.png"
'twitter:title': "Installer et configurer le connecteur AD/LDAP"
'twitter:description': "Décrit comment installer et configurer le connecteur AD/LDAP."
---
import {AuthCodeBlock} from "/snippets/AuthCodeBlock.jsx";


import { InlineImage } from "/snippets/InlineImage.mdx";

export const codeExample = `{
   "LDAP_URL": "ldap://{yourLdapServerFqdn}",
   "LDAP_BASE": "dc={yourDomain},dc=com",
   "LDAP_BIND_USER":"{yourLdapUser}",
   "LDAP_BIND_PASSWORD":"{yourLdapUserPassword}" //cleartextpassword
}`;

## Prérequis

* Assurez-vous que votre système répond à la [configuration requise](/docs/docs/fr-ca/authenticate/identity-providers/enterprise-identity-providers/active-directory-ldap/ad-ldap-connector/ad-ldap-connector-requirements).
* Assurez-vous que vous avez déjà installé [Git](https://git-scm.com/downloads), [Node.js](https://nodejs.org) et [npm](http://blog.npmjs.org/post/85484771375/how-to-install-npm).
* Pour la plupart des plateformes, vous devrez disposer des privilèges racines et/ou administrateur.

## Installer le connecteur pour Windows

### Télécharger l’installateur

Téléchargez le fichier **Auth0 Active Directory/LDAP Connector for Windows** (MSI) :

* <InlineImage src="https://cdn.auth0.com/docs/img/node-windows.png" alt="Auth0 Active Directory/LDAP Connector for Windows" /> [Connecteur Auth0 Active Directory/LDAP pour Windows](https://cdn.auth0.com/adldap.msi) - Current version: 6.1.8<br/>
   Checksum (SHA1): faf28ef46d1776802128e4f702bc755f3102abd7

### Exécuter l’installateur

Exécutez le programme d’installation et suivez les instructions.

Le **connecteur AD/LDAP** est installé en tant que service Windows.

<Frame>![AD/LDAP Connector Services](/docs/images/fr-ca/cdy7uua7fh8z/MPMfLmJsXoPAzpPQhGAv5/25fb39ac7cef7a125110b8fa9f2dff01/adldap-connector-services.png)</Frame>

### Lien vers Auth0

Une fois l’installation terminée, vous verrez un écran dans un navigateur pointant vers localhost :

<Frame>![AD/LDAP Connector Admin Ticket](/docs/images/fr-ca/cdy7uua7fh8z/3biSuxJYQ4swMGJkOZtC3R/cab77cb763ad3b9ff47710bc406c527b/adldap-connector-admin-ticket.png)</Frame>

Saisissez le **TICKET URL** fourni lorsque vous avez configuré la connexion. Le **TICKET URL** définit de manière unique ce connecteur dans Auth0. Le connecteur l’utilisera pour communiquer avec le serveur Auth0 et pour terminer automatiquement la configuration.

### Lien vers LDAP

Saisissez les paramètres LDAP :

<Frame>![adldap-connector-admin-settings](/docs/images/fr-ca/cdy7uua7fh8z/2mHaknek0qyBxGmsanb30L/600b0259ed6db3fe9c526aa9f57a76bd/adldap-connector-admin-settings.png)</Frame>

<table class="table"><thead>
<tr>
<th>Paramètre</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Chaîne de connexion LDAP</strong></td>
<td>Par exemple, `ldap://ldap.internal.contoso.com`. Il s’agit du protocole + le nom de domaine ou l’adresse IP de votre serveur LDAP. Votre serveur LDAP est le contrôleur de domaine local sur lequel Entra ID est installé. Le protocole peut être `ldap` ou `ldaps`. Si vous devez utiliser le protocole `ldaps`, assurez-vous que le certificat est valide sur le serveur actuel.</td>
</tr>
<tr>
<td><strong>DN de base</strong></td>
<td>Par exemple, `dc=Contoso,dc=com`. Il s’agit du conteneur de base pour toutes les requêtes effectuées par le connecteur.</td>
</tr>
<tr>
<td><strong>Nom d’utilisateur</strong></td>
<td>Par exemple, `cn=svcauth0,DC=services,DC=contoso,DC=com` Le nom distinctif complet d’un utilisateur pour effectuer des requêtes.</td>
</tr>
<tr>
<td><strong>Mot de passe</strong></td>
<td>Le mot de passe de l’utilisateur.</td>
</tr>
</tbody>
</table>

Une fois que vous aurez soumis les informations ci-dessus, le connecteur effectuera une série de tests pour valider les informations que vous avez saisies. Les résultats sont affichés sous **Journal de configuration** dans l’écran de la console.

<Frame>![adldap-connector-admin-settings-ok](/docs/images/fr-ca/cdy7uua7fh8z/7kezId8mhvyYDbuovvi9FM/c2f3b2188fdfebc460458daf7247c124/adldap-connector-admin-settings-ok.png)</Frame>

Assurez-vous que tous les tests sont verts.

<table class="table"><thead>
<tr>
<th>Test</th>
<th>Description</th>
<th>Dépannage</th>
</tr>
</thead>
<tbody>
<tr>
<td>Test 1</td>
<td>Tentatives d’établissement d’une connexion TCP au serveur LDAP et au port spécifiés.</td>
<td>Vérifiez la connectivité réseau de base et les paramètres du pare-feu qui pourraient empêcher une telle connexion.</td>
</tr>
<tr>
<td>Test 2</td>
<td>Tentatives d’exécution d’une liaison LDAP sur le serveur LDAP et sur le port spécifiés et avec le nom d’utilisateur et le mot de passe fournis.</td>
<td>Vérifiez la chaîne de connexion LDAP, le chemin de recherche, le nom d’utilisateur et le mot de passe.</td>
</tr>
<tr>
<td>Test 3</td>
<td>Tente d’effectuer une recherche LDAP dans le répertoire pour vérifier les privilèges du nom d’utilisateur spécifié.</td>
<td>Vérifiez les privilèges du nom d’utilisateur dans le répertoire cible.</td>
</tr>
<tr>
<td>Test 4</td>
<td>Tentatives d’établissement d’une connexion au serveur Auth0.</td>
<td>Vérifiez la connectivité réseau et les paramètres du pare-feu qui pourraient empêcher une telle connexion.</td>
</tr>
</tbody>
</table>

## Installer le connecteur pour d’autres plateformes

1. Téléchargez le package **Auth0 Active Directory/LDAP Connector** vers `/tmp` :<br/>
   [adldap-6.1.8](https://github.com/auth0/ad-ldap-connector/releases/tag/v6.1.8)<br/><br/>

   **Exemple de curl :**
   
2. Développez le package et installez ses dépendances :

   ``` lines
   mkdir /opt/auth0-adldap
   tar -xzf /tmp/adldap.tar.gz -C /opt/auth0-adldap --strip-components=1
   cd /opt/auth0-adldap
   npm install
   ```

   

   
3. Démarrez votre serveur.
   `node server.js`Lorsque vous êtes invité à saisir le numéro de ticket, saisissez l’URL complète du ticket URL dans l’onglet **Paramètres** de l’écran **Configuration du connecteur AD/LDAP** dans l'Auth0 Management Dashboard.
4. Vous serez invité à modifier le fichier de configuration `config.json` avec vos détails de connexion et d’authentification LDAP :

   <AuthCodeBlock children={codeExample} language="json" lines />

5. Exécutez à nouveau `node server.js` pour démarrer le connecteur. Notez que la ligne `LDAP_BIND_PASSWORD` dans `config.json` est remplacée par `LDAP_BIND_CREDENTIALS` à ce stade.
6. Une fois que le connecteur est en cours d’exécution, vous devrez appliquer la fonction deamon sur le connecteur (si vous n’avez pas déjà sélectionné d’outil, vous pouvez envisager la commande [upstart](http://upstart.ubuntu.com/) ou [systemd](https://www.freedesktop.org/wiki/Software/systemd/)). Par exemple, pour utiliser systemd avec Ubuntu Xenial, le fichier `/lib/systemd/system/auth0-adldap.service` peut contenir les éléments suivants :

   ```json lines
   [Unit]
   Description=Auth0 AD LDAP Agent
   After=network.target

   [Service]
   Type=simple
   Restart=always
   User=ubuntu
   WorkingDirectory=/opt/auth0-adldap
   ExecStart=/usr/bin/node server.js
   ```

   

   
7. Exécutez `node admin/server.js` pour accéder à l’interface d’administration. L’interface d’administration sera en cours d’exécution et disponible sur `http://localhost:8357`.

Si vous recevez un message `Invalid Ticket` lors de la configuration du connecteur pour la première fois, la cause la plus probable est un problème de réseau (par exemple, le connecteur s’exécute derrière un proxy).

## En savoir plus

* [Dépannage du Connecteur AD/LDAP](/docs/docs/fr-ca/troubleshoot/integration-extensibility-issues/troubleshoot-ad-ldap-connector)
* [Exigences du système du connecteur AD/LDAP](/docs/docs/fr-ca/authenticate/identity-providers/enterprise-identity-providers/active-directory-ldap/ad-ldap-connector/ad-ldap-connector-requirements)
* [Point de connexion AD/LDAP aux connexions Auth0](/docs/docs/fr-ca/authenticate/identity-providers/enterprise-identity-providers/active-directory-ldap/ad-ldap-connector/ad-ldap-connector-to-auth0)
* [Configuration de l’authentification du connecteur AD/LDAP à l’aide de certificats clients](/docs/docs/fr-ca/authenticate/identity-providers/enterprise-identity-providers/active-directory-ldap/ad-ldap-connector/configure-ad-ldap-connector-client-certificates)
* [Configurer l’authentification connecteur AD/LDAP avec Kerberos](/docs/docs/fr-ca/authenticate/identity-providers/enterprise-identity-providers/active-directory-ldap/ad-ldap-connector/configure-ad-ldap-connector-with-kerberos)
* [Mise à jour des Connecteurs AD/LDAP](/docs/docs/fr-ca/authenticate/identity-providers/enterprise-identity-providers/active-directory-ldap/ad-ldap-connector/update-ad-ldap-connectors)