---
title: "Déclencheurs de réinitialisation du mot de passe"
permalink: "password-reset-triggers"
'description': "Découvrez le flux de réinitialisation du mot de passe des Actions, qui s’exécute après que l’utilisateur ait terminé le premier défi, mais avant qu’il ne définisse un nouveau mot de passe."
'og:title': "Déclencheurs de réinitialisation du mot de passe"
'og:description': "Découvrez le flux de réinitialisation du mot de passe des Actions, qui s’exécute après que l’utilisateur ait terminé le premier défi, mais avant qu’il ne définisse un nouveau mot de passe."
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/img/share-image.png"
'twitter:title': "Déclencheurs de réinitialisation du mot de passe"
'twitter:description': "Découvrez le flux de réinitialisation du mot de passe des Actions, qui s’exécute après que l’utilisateur ait terminé le premier défi, mais avant qu’il ne définisse un nouveau mot de passe."
---

Les déclencheurs de réinitialisation du mot de passe s’exécutent pendant le processus de réinitialisation, une fois que l’utilisateur a terminé le premier défi-réponse, souvent un lien envoyé à son [adresse courriel](/docs/fr-ca/secure/multi-factor-authentication/authenticate-using-ropg-flow-with-mfa/enroll-and-challenge-email-authenticators), mais avant qu’il n’ait défini son nouveau mot de passe. Vous pouvez l’utiliser pour soumettre un utilisateur à un défi-réponse supplémentaire, comme un facteur d’authentification multifacteur (<Tooltip href="/docs/fr-ca/glossary?term=multifactor-authentication" tip="Authentification multifacteur (MFA)
Processus d’authentification de l’utilisateur qui utilise un facteur en plus du nom d’utilisateur et du mot de passe, tel qu’un code par SMS." cta="Voir le glossaire">MFA</Tooltip>), ou pour le rediriger vers un site externe, tel qu’un vérificateur tiers.

Après la vérification, les utilisateurs peuvent fournir le nouveau mot de passe pour leur compte.

<Frame>![To use the Password Reset Flow, navigate to Dashboard > Actions > Flows ](/docs/images/fr-ca/cdy7uua7fh8z/1Pugm9fFYCmdhh7QO5Klzm/e106c0979fcd693e3d01e99fc27279b8/2023-08-14_15-54-03.png)</Frame>

Les actions de ce flux bloquent (synchrones), ce qui signifie qu’elles s’exécutent dans le cadre du processus d’un déclencheur et qu’elles empêcheront le reste du pipeline Auth0 de s’exécuter jusqu’à ce que l’action soit complétée.

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

De manière à ce que ces Actions fonctionnent correctement, vous devez avoir activé la nouvelle connexion universelle. Ces Actions ne peuvent pas être déclenchées avec la Connexion classique.

</Callout>

## Déclencheurs

### PostChallenge

Le déclencheur `post-challenge` est une fonction qui s’exécute après qu’un utilisateur a terminé le premier défi de réinitialisation de mot de passe, généralement un lien magique de courriel. Vous pouvez créer jusqu’à quatre Actions dans votre locataire qui exploitent le déclencheur `post-challenge`

#### Références

* [Objet événement](/docs/fr-ca/customize/actions/explore-triggers/password-reset-triggers/post-challenge-trigger/post-challenge-event-object): fournit des informations contextuelles sur un seul utilisateur se connectant via Auth0.
* [Objet API](/docs/fr-ca/customize/actions/explore-triggers/password-reset-triggers/post-challenge-trigger/post-challenge-api-object): fournit des méthodes permettant de modifier le comportement du flux.

## Limites

Le flux de réinitialisation du mot de passe ne prend pas en charge les [connexions Active Directory/LDAP](/docs/fr-ca/authenticate/identity-providers/enterprise-identity-providers/active-directory-ldap).

## Cas d’utilisation courants

### Réinitialisation sécurisée du mot de passe avec des facteurs MFA supplémentaires

Une Action `password-reset (réinitialisation du mot de passe)` / `post-challenge (post-défi)` peut émettre un défi MFA une fois que l’utilisateur a terminé le premier défi. Par exemple, vous pouvez émettre un défi basé sur WebAuthn en tant que facteur secondaire si votre locataire a activé WebAuthN en tant que facteur.

```javascript lines
/**@type {PasswordResetPostChallengeAction}**/
module.exports.onExecutePostChallenge = async (event, api) => {
  const enrolledFactors = event.user.enrolledFactors.map((x) => ({
    type: x.type
  }));
  api.authentication.challengeWith({ type: 'webauthn-roaming' }, { additionalFactors: enrolledFactors });
};
```

### Rediriger les utilisateurs vers une application tierce

En plus d’un défi MFA, vous pouvez également essayer d’ajouter une redirection dans l’Action personnalisée, par exemple, vers un vérificateur tiers ou un évaluateur de risques.

```javascript lines
/** @type {PasswordResetPostChallengeAction}
 * This sample action redirects the user to an example app
 * and then continues the action after the redirect to challenge
 * the user with an MFA factor
 */

module.exports.onExecutePostChallenge = async (event, api) => {
  // Send the user to https://my-app.example.com
  api.redirect.sendUserTo('https://my-app.example.com');
};

module.exports.onContinuePostChallenge = async (event, api) => {
  const enrolledFactors = event.user.enrolledFactors.map((x) => ({
    type: x.type
  }));

  // Challenge the user with email otp OR another enrolled factor
  api.authentication.challengeWith({ type: 'email' }, { additionalFactors: enrolledFactors });

  // Example of how to challenge the user with multiple options
  // in this case email otp OR sms otp
  // api.authentication.challengeWithAny([{ type: 'email' }, { type: 'sms' }]);
};
```

Le pipeline d’actions n’est pas actif pendant qu’Auth0 redirige l’utilisateur. Une fois que l’utilisateur poursuit le processus de connexion Auth0, le pipeline d’actions reprend. Les actions qui ont été exécutées avant la redirection ne sont pas exécutées à nouveau. Pour en savoir plus, veuillez consultez [Rediriger avec des actions](/docs/fr-ca/customize/actions/explore-triggers/signup-and-login-triggers/login-trigger/redirect-with-actions).