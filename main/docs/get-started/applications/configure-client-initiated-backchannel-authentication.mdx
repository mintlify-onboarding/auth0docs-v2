---
description: Learn how to configure Client-Initiated Backchannel Authentication
  for your tenant.
'og:image': https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
'og:title': Configure Client-Initiated Backchannel Authentication
'og:url': https://auth0.com/docs/
permalink: configure-client-initiated-backchannel-authentication
title: Configure Client-Initiated Backchannel Authentication
'twitter:description': Learn how to configure Client-Initiated Backchannel Authentication
  for your tenant.
'twitter:title': Configure Client-Initiated Backchannel Authentication
---

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">
To use Client-Initiated Backchannel Authentication (CIBA) features, you must have an Enterprise Plan or an appropriate add-on. Refer to [Auth0 Pricing](https://auth0.com/pricing/) for details.
</Callout>

The [Client-Initiated Backchannel Authentication (CIBA) flow](/docs/get-started/authentication-and-authorization-flow/client-initiated-backchannel-authentication-flow) is a decoupled authentication and authorization flow defined by the OpenID Foundation. You can use the CIBA flow in asynchronous workflows where the device initiating the CIBA request (the consumption device) is different from the device used by the user to authenticate (the authentication device).

To configure CIBA in Auth0, you need to: 
- [Configure the CIBA grant type for your application](#configure-ciba-grant-type-for-your-application)
- [Enable notification channel(s) for your application](#enable-notification-channels-for-your-application)
- [Configure the notification channel for CIBA](#configure-notification-channel)

## Prerequisites

Before configuring CIBA for your application, make sure you set an [authentication method](/docs/secure/application-credentials#application-authentication-methods) for your application. You can use any authenticatino method, including mTLS authentication, Private Key <Tooltip tip="JSON Web Token (JWT): Standard ID Token format (and often Access Token format) used to represent claims securely between two parties." cta="View Glossary" href="/docs/glossary?term=JWT">JWT</Tooltip>, and <Tooltip tip="JSON Web Token (JWT): Standard ID Token format (and often Access Token format) used to represent claims securely between two parties." cta="View Glossary" href="/docs/glossary?term=Client+Secret">Client Secret</Tooltip> authentication, with the CIBA flow.

To set the authentication method for your application, read [Credential Settings](/docs/get-started/applications/credentials).

## Configure CIBA grant type for your application

You can configure the CIBA grant type for your application with the [Auth0 Dashboard](https://manage.auth0.com/) or [Management API](https://auth0.com/docs/api/management/v2).

There are some restrictions on the types of clients that can use the CIBA grant type. You can only use the CIBA grant type if:

* The client is a first-party client i.e. the `is_first_party` property is `true`.
* The client is confidential with an authentication mechanism, i.e. the `token_endpoint_auth_method` property must not be set to `none`.
* The client must be OIDC conformant i.e. the `oidc_conformant` must be `true`. This is the default for all new clients.

Once you enable the CIBA grant type, the configuration settings for the [notification channels](#enable-notification-channels-for-your-application) available to your application will become visible.

<Tabs><Tab title="Auth0 Dashboard">

To configure CIBA for your application with the Auth0 Dashboard:

1. Navigate to **Applications > Applications** in the Auth0 Dashboard.
2. Create an application and then enable **Client Initiated Backchannel Authentication (CIBA)** under the **Grant Types** tab:

<Frame>![](/docs/images/cdy7uua7fh8z/54TD5VRQVAOWxBdnFEpvTT/223866f22f6c3ddfa87e48221d69ba58/CIBA_grant_-_English.png)</Frame>

3. Click **Save Changes**.

</Tab><Tab title="Management API">

To configure CIBA for your application using the Management API, use the [Update a Client](https://auth0.com/docs/api/management/v2/clients/patch-clients-by-id) endpoint to add the `urn:openid:params:grant-type:ciba` grant type to the list of grant types on the client object:

```bash lines
curl --location --request PATCH 'https://{yourDomain}.auth0.com/api/v2/clients/{clientId}' \
--header 'Content-Type: application/json' \
--header 'Authorization: Bearer <YOUR_MANAGEMENT_API_TOKEN>' \
--data '{
    "grant_types": [
        "authorization_code",
        "refresh_token",
        "urn:openid:params:grant-type:ciba"
    ]
}'
```

You can also use our Go Management API SDK library. To learn more, read [SDKs](/docs/libraries):

```go lines
myClient := &Client{
    Name:        auth0.Stringf("CIBA-enabled-client"),
    Description: auth0.String("This is a CIBA enabled client."),
    GrantTypes:  &[]string{"urn:openid:params:grant-type:ciba"},
  }

  err := api.Client.Create(context.Background(), myClient)
```

</Tab></Tabs>

## Enable notification channels for your application

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">
To use Client-Initiated Backchannel Authentication (CIBA) features, you must have an Enterprise Plan or an appropriate add-on. Refer to [Auth0 Pricing](https://auth0.com/pricing/) for details.
</Callout>

Once you have enabled the CIBA grant type for your application, you can configure which notification channels are enabled for the CIBA flow. If you have enabled multiple notification channels,  CIBA uses the value of the `requested_expiry` parameter to determine which notification channel to use. The `requested_expiry` determines the maximum duration for which the CIBA session should be valid in seconds:
- [Mobile push notifications](#configure-mobile-push-notifications): If you set your `requested_expiry` to a value of 300 seconds or lower, CIBA uses the mobile push notification channel if enabled.
- [Email notifications](#configure-email-notifications): If you set your `requested_expiry` to a value between 301 and 259200 seconds (72 hours), CIBA uses the email notification channel if enabled.

<Tabs><Tab title="Auth0 Dashboard">

To configure the notification channel for your application with the Auth0 Dashboard:
- Navigate to **Applications > Applications**.
- In your application settings, go to the **Client Initiated Backchannel Authentication (CIBA)** section and select the notification channel(s) to enable.

<Frame>![](/docs/images/ciba/enable_notification_channel_for_app.png)</Frame>

</Tab><Tab title="Management API">

Make a `PATCH` request to the `/api/v2/clients` endpoint for your client application and set the notification channels for the CIBA flow.

The following code sample enables the `guardian-push` notification channel for the CIBA flow:

```bash lines
curl -L --request PATCH 'https://{yourDomain}/api/v2/clients/{clientId}' \
-H 'Content-Type: application/json' \
-H 'Accept: application/json' \
-H "Authorization: Bearer <YOUR_MANAGEMENT_API_ACCESS_TOKEN>" \
-d '{
    "async_approval_notification_channels":["guardian-push"]
}'
```

</Tab></Tabs>

## Configure notification channel

Once you have enabled the notification channel(s) for your client application, configure the notification channel for the CIBA flow:
- [Configure mobile push notifications](#configure-mobile-push-notifications)
- [Configure email notifications](#configure-email-notifications)

### Configure mobile push notifications

To send mobile push notifications with CIBA, you can use:
- The Auth0 Guardian app
- A custom app integrated with the Auth0 Guardian SDK

You can select which app to use when [enabling Auth0 Guardian push notifications](/docs/get-started/applications/configure-client-initiated-backchannel-authentication#enable-auth0-guardian-push-notifications). If you want to use a custom app, you need to integrate it with the [Auth0 Guardian SDK](/docs/secure/multi-factor-authentication/auth0-guardian#guardian-sdks). This allows the authorizing user to approve push notification challenges initiated by the CIBA flow in your custom app. 

To configure mobile push notifications, make sure you:
- [Enable Auth0 Guardian push notifications](#enable-auth0-guardian-push-notifications)
- [Enroll the authorizing user in MFA using push notifications](#enroll-the-authorizing-user-in-mfa-using-push-notifications)

#### Enable Auth0 Guardian push notifications

Use the Auth0 Dashboard to enable the [Auth0 Guardian Push Notification](/docs/secure/multi-factor-authentication/auth0-guardian#enroll-in-push-notifications) factor for your tenant.

In the Auth0 Dashboard:

- Select **Security > Multi-factor Auth.**

- Enable **Push Notification using Auth0 Guardian**. This may require some <Tooltip tip="Multi-factor authentication (MFA): User authentication process that uses a factor in addition to username and password such as a code via SMS." cta="View Glossary" href="/docs/glossary?term=MFA">MFA</Tooltip> configuration settings. To learn more, read [Configure Push Notifications for MFA](/docs/secure/multi-factor-authentication/multi-factor-authentication-factors/configure-push-notifications-for-mfa).

<Frame>![](/docs/images/cdy7uua7fh8z/7JKyznvsjTupJpTU7NwdSA/54b04e5b734226e1ee73c4165048b4f6/image2.png)</Frame>

- For **Push Notification App**, select your desired app.

<Frame>![](/docs/images/ciba/push_notification_app.png)</Frame>

- Click **Save**.

#### Enroll the authorizing user in MFA using push notifications

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">
If the user is not enrolled to use MFA push notifications, Auth0 falls back to using email notifications, if configured, instead of rejecting the CIBA request.
</Callout>

For both the Auth0 Guardian app and a custom app, you must [enroll the authorizing user in MFA using push notifications](/docs/secure/multi-factor-authentication/auth0-guardian#enroll-in-push-notifications).

To verify if the user is enrolled in the <Tooltip tip="Auth0 Dashboard: Auth0's main product to configure your services." cta="View Glossary" href="/docs/glossary?term=Auth0+Dashboard">Auth0 Dashboard</Tooltip>, navigate to **User Management > Users** and click on the user:

<Frame>![](/docs/images/cdy7uua7fh8z/21qtk4F1cOQHMpbXxXYu75/51ba9c5fd1457ffee3f73893acf3c97f/Screenshot_2025-01-13_at_4.13.44_PM.png)</Frame>

If you have set <Tooltip tip="Multi-factor authentication (MFA): User authentication process that uses a factor in addition to username and password such as a code via SMS." cta="View Glossary" href="/docs/glossary?term=Multi-factor+Authentication">Multi-factor Authentication</Tooltip> as always required for your tenant, users are prompted to enroll for MFA at their next login. You can also use [Actions](https://auth0.com/blog/using-actions-to-customize-your-mfa-factors/) to prompt for MFA enrollment.

### Configure email notifications

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">
To use email notifications with CIBA, you need the Auth0 for AI Agents add-on with a paid plan. To learn more, read [Auth0 Pricing](https://auth0.com/pricing).
</Callout>

You can send email notifications with the CIBA flow. To configure email notifications with CIBA, make sure you:
- [Configure your email provider](#configure-your-email-provider)
- [Configure your email template](#configure-your-email-template) to use the **Asynchronous Approval** template
- [Ensure the authorizing user has a verified email address](#ensure-the-authorizing-user-has-a-verified-email-address)

#### Configure your email provider

While you can use Auth0â€™s built-in email provider to test email delivery in your development and test environments, you must set up your own email provider to use email notifications with CIBA in a production environment.

To learn how to set up your own email provider, read [Customize emails](/docs/customize/email).

#### Configure your email template

To configure the **Asynchronous Approval** email template:

<Tabs><Tab title="Auth0 Dashboard">

1. Navigate to **Branding > Email Templates**. 
2. For **Template**, select **Asynchronous Approval** from the dropdown menu.
3. Fill in the rest of the template settings by following the [Configure template fields](/docs/customize/email/email-templates#configure-template-fields) instructions.

</Tab><Tab title="Management API">

Make a `PATCH` request to the `/email-templates/async_approval` endpoint and follow the [Configure template fields](/docs/customize/email/email-templates#configure-template-fields) instructions to fill in the rest of the template settings. To learn more, read the [Patch an email template API documentation](https://auth0.com/docs/api/management/v2/email-templates/patch-email-templates-by-template-name). 

```bash lines
curl -L "https://{yourDomain}.auth0.com/api/v2/email-templates" \
-H 'Content-Type: application/json' \
-H 'Accept: application/json' \
-H "Authorization: Bearer <YOUR_MANAGEMENT_API_TOKEN>" \
-d '{"template":"async_approval","body":"{{application.name}} says click on {{url}}, binding message: {{binding_message}}","subject":"Action Required","syntax":"liquid","enabled":true,"from":""}'
```
</Tab></Tabs>

#### Ensure the authorizing user has a verified email address

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">
If the user does not have a verified email address, Auth0 rejects the CIBA email request.
</Callout>

To send an email notification with CIBA, the authorizing user must have a verified email address associated with their user account. 

To verify that the user has a verified email address using the Auth0 Dashboard:

1. Navigate to **User Management > Users** and click on the user. 
2. Under **Email**, the user should have a verified email address listed.
