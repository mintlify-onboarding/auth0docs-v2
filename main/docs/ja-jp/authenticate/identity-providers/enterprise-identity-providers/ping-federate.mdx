---
title: "PingFederateサーバーをAuth0に接続する"
permalink: "ping-federate"
'description': "PingFederateサーバーとAuth0の間にエンタープライズ接続を作成する方法を説明します。"
'og:title': "PingFederateサーバーをAuth0に接続する"
'og:description': "PingFederateサーバーとAuth0の間にエンタープライズ接続を作成する方法を説明します。"
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/img/share-image.png"
'twitter:title': "PingFederateサーバーをAuth0に接続する"
'twitter:description': "PingFederateサーバーとAuth0の間にエンタープライズ接続を作成する方法を説明します。"
---

Auth0では、[PingFederateサーバー](https://documentation.pingidentity.com/pingfederate/pf84/#gettingStartedGuide/concept/gettingStarted.html)接続を作成することができます。

## 前提条件

始める前に以下を行います。

* [Auth0にアプリケーションを登録します](/docs/ja-jp/get-started/auth0-overview/create-applications)。

  + 適切な **［Application Type（アプリケーションタイプ）］** を選択します。
  + **`{https://yourApp/callback}`** の **［Allowed Callback URL（許可されているコールバックURL）］** を追加します。
  + アプリケーションの[［Grant Types（付与タイプ）］](/docs/ja-jp/get-started/applications/update-grant-types)に適切なフローが必ず含まれていることを確認してください。

## ステップ

お使いのサーバーが標準的な方法で構成されている限り、PingFederateサーバーをAuth0に接続するには、次の手順を実行する必要があります。

1. [IdPから署名証明書を入手](#get-the-signing-certificate-from-the-idp)し、[Base64に変換する](#convert-signing-certificate-to-base64)。
2. [Auth0でエンタープライズ接続を作成する](#create-an-enterprise-connection-in-auth0)。
3. [Auth0アプリケーションでエンタープライズ接続を有効にする](#enable-the-enterprise-connection-for-your-auth0-application)。
4. [接続をテストする](#test-the-connection)。

<Warning>

サーバーに追加のセットアップ（属性マッピングなど）が必要な場合は、代わりに[新しいSAMLエンタープライズ接続を作成](/docs/ja-jp/authenticate/identity-providers/enterprise-identity-providers/saml)しなければなりません。

</Warning>

## IdPから署名証明書を入手する

PingFederateサーバーでは、Auth0はサービスプロバイダーとして機能するため、 <Tooltip data-tooltip-id="react-containers-DefinitionTooltip-2" href="/docs/ja-jp/glossary?term=idp" tip="IDプロバイダー（IdP）: デジタルIDを保存および管理するサービス。" cta="用語集の表示">IdP</Tooltip>から署名されたX.509証明書（PEMまたはCER形式）を取得する必要があります。これは後でAuth0にアップロードします。この証明書を取得する方法はいろいろあるので、サーバーの証明書の管理方法については、[PingFederateのドキュメント](https://documentation.pingidentity.com/pingfederate/pf84/index.shtml#concept_digitalSignatureSettings.html)を参照してください。

### 署名証明書をBase64に変換する

X.509証明書をAuth0にアップロードする前に、ファイルをBase64に変換する必要があります。これを行うには、[シンプルなオンラインツール](https://www.base64decode.org/)を使用するか、Bashで以下のコマンドを実行します：`cat signing-cert.crt | base64`。

## Auth0でエンタープライズ接続を作成する

次に、お使いのサーバーが標準的な方法で構成されている場合は、Auth0でPingFederateのエンタープライズ接続を作成・構成してから、署名されたX.509証明書をアップロードする必要があります。この作業には、<Tooltip data-tooltip-id="react-containers-DefinitionTooltip-0" href="/docs/ja-jp/glossary?term=auth0-dashboard" tip="Auth0 Dashboard: サービスを構成するためのAuth0の主製品。" cta="用語集の表示">Auth0 Dashboard</Tooltip>を使用することができます。

<Warning>

サーバーに追加のセットアップ（属性マッピングなど）が必要な場合は、代わりに[新しいSAMLエンタープライズ接続を作成](/docs/ja-jp/authenticate/identity-providers/enterprise-identity-providers/saml)しなければなりません。

</Warning>

1. [［Auth0 Dashboard］>［Authentication（認証）］>［Enterprise（エンタープライズ）］](https://manage.auth0.com/#/connections/enterprise)に移動し、 **［Ping Federate］** を見つけ、その`+`を選択します。

   <Frame>![Dashboard - 接続 -エンタープライズ](/docs/images/ja-jp/cdy7uua7fh8z/1fSTcrZpkgkPR64NnI1lr8/101fc19f62d82b5c7b13d88f3a0a8e96/Enterprise_Connections_-_JP.png)</Frame>

2. 接続の詳細を入力し、 **［Create（作成）］** をクリックします。

   <table class="table"><thead>
   <tr>
   <th>フィールド</th>
   <th>説明</th>
   </tr>
   </thead>
   <tbody>
   <tr>
   <td><b>Connection name（接続名）</b></td>
   <td>接続の論理的な識別子で、テナントで一意である必要があります。この名前は一度設定すると変更できません。</td>
   </tr>
   <tr>
   <td><b>PingFederate Server URL（PingFederateサーバーURL）</b></td>
   <td>PingFederateサーバーのURLです。</td>
   </tr>
   <tr>
   <td><b>X.509 Signing Certificate（X.509署名証明書）</b></td>
   <td>このプロセスで以前にIdPから取得したPingFederateサーバーの公開鍵（PEMまたはCERでエンコード）です。</td>
   </tr>
   <tr>
   <td><b>Sign Request（署名要求）</b></td>
   <td>有効にすると、SAML認証要求が署名されます（<a href="https://{yourDomain}/pem">テナントの証明書</a>をダウンロードしてPingFederateサーバーに必ず提供します）。</td>
   </tr>
   <tr>
   <td><b>Sign Request Algorithm（署名要求アルゴリズム）</b></td>
   <td>Auth0がSAMLアサーションの署名に使用するアルゴリズムです。これがPingFederateサーバーの構成と一致していることを確認してください。</td>
   </tr>
   <tr>
   <td><b>Sign Request Digest Algorithm（署名要求ダイジェストアルゴリズム）</b></td>
   <td>Auth0が署名要求ダイジェストに使用するアルゴリズムです。これがPingFederateサーバーの構成と一致していることを確認してください。</td>
   </tr>
   <tr>
   <td><b>Sync user profile attributes at each login（毎回のログインでユーザープロファイル属性を同期する）</b></td>
   <td>有効にすると、Auth0はユーザーがログインする度にユーザープロファイルデータを自動的に同期します。これにより、接続のソースで加えられた変更内容がAuth0でも自動的に反映されます。</td>
   </tr>
   </tbody>
   </table>

   <Frame>![PingFederate設定を構成する](/docs/images/ja-jp/cdy7uua7fh8z/6gBIIx0DC8363S1NNGBCqA/14d3b77d0bc601f408e0dd4a9dddbd1c/Enterprise_Connection_-_PingFederate.png)</Frame>

3. **［Login Experience（ログインエクスペリエンス）］** ビューでこの接続でのユーザーログインの方法を構成することができます。

   <table class="table"><thead>
   <tr>
   <th><b>フィールド</b></th>
   <th><b>説明</b></th>
   </tr>
   </thead>
   <tbody>
   <tr>
   <td><b>ホームレルムディスカバリー</b></td>
   <td>ユーザーのメールドメインを、指定されたIDプロバイダードメインと比較します。詳細については、[識別子優先認証の構成]を参照してください。（https://auth0.com/docs/ja-jp/authenticate/login/auth0-universal-login/identifier-first）</td>
   </tr>
   <tr>
   <td><b>接続ボタンを表示</b></td>
   <td>このオプションでは、アプリケーションの接続ボタンをカスタマイズするため次の選択肢が表示されます。</td>
   </tr>
   <tr>
   <td><b>Button display name（ボタン表示名）</b> （オプション）</td>
   <td>ユニバーサルログインのログインボタンをカスタマイズするために使用されるテキスト。設定されるとボタンは以下を読み取ります："Continue with `{Button display name}`"</td>
   </tr>
   <tr>
   <td><b>Button logo（ボタンロゴ）URL</b> （任意）</td>
   <td>ユニバーサルログインのログインボタンをカスタマイズするために使用される画像のURL。設定されると、ユニバーサルログインのログインボタンは、20px×20pxの四角で画像を表示します。</td>
   </tr>
   </tbody>
   </table>

   <Callout icon="file-lines" color="#0EA5E9" iconType="regular">

   任意のフィールドは、New Universal Loginでのみ使用することができます。Classic Loginを使用している場合、［Add（追加）］ボタン、ボタンの表示名、ボタンロゴのURLは表示されません。

   </Callout>

## Auth0アプリケーションでエンタープライズ接続を有効化する

新たなPingFederateエンタープライズ接続を使うには、まずAuth0アプリケーションの[接続を有効化](/docs/ja-jp/authenticate/identity-providers/enterprise-identity-providers/enable-enterprise-connections)する必要があります。

## 接続をテストする

これで[接続をテスト](/docs/ja-jp/authenticate/identity-providers/enterprise-identity-providers/test-enterprise-connections)する準備が整いました。