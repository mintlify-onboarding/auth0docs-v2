---
title: "SAML IDプロバイダーとしてのAuth0の構成"
permalink: "configure-auth0-saml-identity-provider"
'description': "SAMLフェデレーションでSAML IDプロバイダーとして機能するようにAuth0を構成する方法について説明します。"
'og:title': "SAML IDプロバイダーとしてのAuth0の構成"
'og:description': "SAMLフェデレーションでSAML IDプロバイダーとして機能するようにAuth0を構成する方法について説明します。"
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/img/share-image.png"
'twitter:title': "SAML IDプロバイダーとしてのAuth0の構成"
'twitter:description': "SAMLフェデレーションでSAML IDプロバイダーとして機能するようにAuth0を構成する方法について説明します。"
---

<Tooltip data-tooltip-id="react-containers-DefinitionTooltip-1" href="/docs/ja-jp/glossary?term=security-assertion-markup-language" tip="Security Assertion Markup Language（SAML）: パスワードなしに二者間で認証情報を交換できる標準化プロトコル。" cta="用語集の表示">SAML</Tooltip> 2.0を使用したSAML構成では、Auth0をIDプロバイダーとして使用できます。

## Auth0サポートを組み込んだSSO統合

1. [Dashboard>Applications>SSO Integrations](https://manage.auth0.com/#/externalapps)に移動して、 **［Create SSO Integration（SSO統合の作成）］** を選択します。
2. SSO IDプロバイダー統合を選択します。次の画面で **［Continue（続行）］** をクリックします。
3. 選択したプロバイダーの必要な詳細を入力し、 **［Save（保存）］** をクリックします。

チュートリアルビューには、選択した統合に固有の追加の構成手順が表示されます。

次の統合の一部では、[SAML2 Webアプリアドオン](/docs/ja-jp/authenticate/protocols/saml/saml-sso-integrations/enable-saml2-web-app-addon)が使用されます。

* [Amazon Web Services（AWS）](/docs/ja-jp/authenticate/single-sign-on/outbound-single-sign-on/configure-auth0-saml-identity-provider/configure-saml2-web-app-addon-for-aws)
* [Atlassian](/docs/ja-jp/authenticate/single-sign-on/outbound-single-sign-on/configure-auth0-saml-identity-provider/configure-auth0-as-identity-provider-for-atlassian)
* [Cisco-WebEx](/docs/ja-jp/authenticate/single-sign-on/outbound-single-sign-on/configure-auth0-saml-identity-provider/configure-auth0-as-identity-provider-for-cisco-webex)
* [DataDog](/docs/ja-jp/authenticate/single-sign-on/outbound-single-sign-on/configure-auth0-saml-identity-provider/configure-auth0-as-identity-provider-for-datadog)
* [Egencia](/docs/ja-jp/authenticate/single-sign-on/outbound-single-sign-on/configure-auth0-saml-identity-provider/configure-auth0-as-identity-provider-for-egencia)
* [Oracle Eloqua Marketing Cloud](/docs/ja-jp/authenticate/single-sign-on/outbound-single-sign-on/configure-auth0-saml-identity-provider/configure-saml2-addon-eloqua)
* [Freshdesk](/docs/ja-jp/authenticate/single-sign-on/outbound-single-sign-on/configure-auth0-saml-identity-provider/configure-auth0-as-identity-provider-for-freshdesk)
* [GitHub Enterprise Cloud](/docs/ja-jp/authenticate/single-sign-on/outbound-single-sign-on/configure-auth0-saml-identity-provider/configure-saml2-web-app-addon-for-github-enterprise-server)
* [GitHub Enterprise Server](/docs/ja-jp/authenticate/single-sign-on/outbound-single-sign-on/configure-auth0-saml-identity-provider/configure-saml2-web-app-addon-for-github-enterprise-server)
* [Google Workspace](/docs/ja-jp/authenticate/single-sign-on/outbound-single-sign-on/configure-auth0-saml-identity-provider/configure-auth0-as-idp-for-google-g-suite)
* [Heroku](/docs/ja-jp/authenticate/single-sign-on/outbound-single-sign-on/configure-auth0-saml-identity-provider/configure-saml2-web-app-addon-for-heroku)
* [Hosted Graphite](/docs/ja-jp/authenticate/single-sign-on/outbound-single-sign-on/configure-auth0-saml-identity-provider/configure-auth0-as-identity-provider-for-hosted-graphite)
* [Litmos](/docs/ja-jp/authenticate/single-sign-on/outbound-single-sign-on/configure-auth0-saml-identity-provider/configure-auth0-as-identity-provider-for-litmos)
* [PluralSight](/docs/ja-jp/authenticate/single-sign-on/outbound-single-sign-on/configure-auth0-saml-identity-provider/configure-auth0-as-identity-provider-for-pluralsight)
* [Sprout Video](/docs/ja-jp/authenticate/single-sign-on/outbound-single-sign-on/configure-auth0-saml-identity-provider/configure-auth0-as-identity-provider-for-sprout-video)
* [Tableau Online](/docs/ja-jp/authenticate/single-sign-on/outbound-single-sign-on/configure-auth0-saml-identity-provider/configure-auth0-as-identity-provider-for-tableau-online)
* [Tableau Server](/docs/ja-jp/authenticate/single-sign-on/outbound-single-sign-on/configure-auth0-saml-identity-provider/configure-auth0-as-identity-provider-for-tableau-server)
* [Workday](/docs/ja-jp/authenticate/single-sign-on/outbound-single-sign-on/configure-auth0-saml-identity-provider/configure-auth0-as-identity-provider-for-workday)
* [Workpath](/docs/ja-jp/authenticate/single-sign-on/outbound-single-sign-on/configure-auth0-saml-identity-provider/configure-auth0-as-identity-provider-for-workpath)

## SSO統合を手動で構成する

Auth0ダッシュボードで、SAML2 Webアプリアドオンを使用してSAML <Tooltip data-tooltip-id="react-containers-DefinitionTooltip-0" href="/docs/ja-jp/glossary?term=single-sign-on" tip="シングルサインオン（SSO）: ユーザーが1つのアプリケーションにログインした後、そのユーザーを他のアプリケーションに自動的にログインさせるサービス。" cta="用語集の表示">SSO</Tooltip>統合を手動で構成できます。画面上の指示とサービスプロバイダーの設定で利用可能な情報を使用して、SAMLアドオンを構成できます。

### サービスプロバイダーからアプリケーションコールバックURLを取得する

サービスプロバイダーからSAML認証アサーションを送信するURLを取得します。これは、 **［Assertion Consumer Service URL（アサーションコンシューマーサービスURL）］** 、 **［Post-back URL（ポストバックURL）］** 、または **［Callback URL（コールバックURL ）］** と呼ばれることもあります。

### Auth0でSAML SSOを構成する

1. [Dashboard>Applications> Applications](https://manage.auth0.com/#/applications)に移動し、新しいアプリケーションを作成するか、構築するアプリケーションの名前をクリックします。
2. **［Settings（設定）］** ページの下までスクロールし、 **［Advanced Settings（詳細設定）］** をクリックします。
3. **［Certificates（証明書）］** タブを選択し、 **［Download Certificates（証明書のダウンロード）］** をクリックして、 **`PEM`** 形式を選択します。証明書は`{yourTenant}.pem`というファイルにダウンロードされます。このファイルを保存します。サービスプロバイダーを構成するときにアップロードする必要があります。

   <Frame>![Dashboard - アプリケーション - 高度な設定 - 証明書タブ](/docs/images/ja-jp/cdy7uua7fh8z/5eB167clrfOiBEtyrMOtkn/421d091708adf74f5ba9b8a450fb824c/Applications_-_Advanced_-_Certificates.png)</Frame>

4. **［Endpoints（エンドポイント）］** タブを選択し、 **［SAML Protocol URL（SAMLプロトコルURL）］** を見つけます。コピーして保存します。サービスプロバイダーに提供する必要があります。
5. 一番上までスクロールして、 **［Addons（アドオン）］** タブを選択します。
6. **［SAML2 Web App（SAML2 Webアプリ）］** の切り替えを有効にします。

   <Callout icon="file-lines" color="#0EA5E9" iconType="regular">

   1つのクライアントに対してSAMLアドオンとWD-Fedアドオンの両方を有効化することは、サポートされていません。動作が一貫しない可能性があります。アドオンごとに個別のクライアントを使用してください。

   </Callout>

7. **［Settings（設定）］** タブで、Auth0がユーザーを認証した後に SAMLアサーションを送信するサービスプロバイダー（またはアプリケーション）からの **［Application Callback（アプリケーションコールバックURL）］** を入力します。これはアサーションコンシューマサービス（ACS）のURLです。

   <Frame>![Dashboard アプリケーション アプリケーションアドオンタブ SAML2 Webアプリ 設定タブ](/docs/images/ja-jp/cdy7uua7fh8z/6dJgYkcOgMZ73HVTkAWt1x/0126f55506d82cfd73d0bcb7ebd6fa9f/2025-02-27_14-00-16.png)</Frame>

   <Warning>

   許可されているコールバックURLをSAML2アドオンに追加すると、そのURLが最初の項目として、アプリケーションの許可されているコールバックリストに追加されます。これは、デフォルトでこのリストの最初のURLに依存している機能に影響を与えます。

   また、アプリケーションの許可されているコールバックリストにある最初のURLが更新または変更されると、SAML2アドオンにも反映され、機能しなくなる可能性があります。

   </Warning>

8. タブの最後までスクロールし、 **［Enable（有効）］** をクリックします。
9. サービスプロバイダーがSAML要求で複数のACS URLを送信する場合は、アプリケーションの **［Settings（設定）］** タブに移動し、 **［Allowed Callback URLs（許可されたコールバック URL）］** を見つけて追加することで、それらを許可リストに追加する必要があります。

### サービスプロバイダーでSAML SSOを構成する

1. サービスプロバイダーアプリケーションを構成するために必要な情報を表示するには、SAMLアドオンの **［Usage（使用法）］** タブに移動します。

   <Frame>![Dashboard アプリケーション アプリケーションアドオンタブ SAML2 Webアプリ 使用状況タブ](/docs/images/ja-jp/cdy7uua7fh8z/3T90BDpyTXFUWDp1JkncBU/20060887bf494416b5831075fd4fce13/2025-01-28_10-16-30.png)</Frame>

2. **［Identity Provider Metadata（IDプロバイダーメタデータ）］** を見つけて、 **［Download（ダウンロード）］** をクリックしてメタデータファイルをダウンロードします。サービスプロバイダーに情報を追加して、Auth0にSAMLベースの認証要求を送信する方法を知らせます。ここで提供される手順は一般的なものです。サービスプロバイダーで適切な画面とフィールドを見つける必要があります。

* サービスプロバイダーがメタデータファイルのアップロードをサポートしている場合は、SAML2 Webアドオンの **［Usage（使用状況）］** タブで取得したメタデータURLを指定します。
* サービスプロバイダーがメタデータファイルのアップロードをサポートしていない場合は、SAMLアドオンの **［Usage（使用状況）］** ビューの情報を使用して、手動で設定を構成します。

  + ログインURLには、サービス プロバイダーがSAML認証要求を送信するURLである **［Identity Provider Login（IDプロバイダーログインURL）］** を使用します。
  + カスタムドメインがある場合は、Auth0ドメインではなく、カスタムドメインベースのURLを使用します。この形式のURLを使用する代わりに：
    `https://{yourTenant}.auth0.com/samlp/CLIENTID?connection=Username-Password-Authentication`
    この形式のURLを使用します：
    `https://{yourCustomDomain}/samlp/CLIENTID?connection=Username-Password-Authentication`.
  + [［Organizations（組織）］](/docs/ja-jp/manage-users/organizations)を使用している場合は、クエリ文字列に`organization`パラメータとして組織IDを指定することにより、ユーザーを特定の組織のログインプロンプトに誘導できます。オプションで、`connection`パラメータを含めて接続を指定することもできます。例：`https://{yourTenant}.auth0.com/samlp/CLIENTID?connection=Acme-Saml-Connection&organization=org_123456789`
  + サービスプロバイダーにログアウトURLのフィールドもある場合は、 **［Identity Provider Login URL（IDプロバイダーログインURL）］** を再度入力します。ログインとログアウトはどちらも同じURLで処理されます。
* SAMLアドオンの **［Usage（使用状況）］** ビューから証明書をダウンロードし、サービスプロバイダーに提供します。この証明書は、Auth0からサービスプロバイダーに送信される SAML認証アサーションの署名を検証するために使用されます。サービスプロバイダーが **［Issuer（発行者）］** を要求した場合は、SAMLアドオンの **［Usage（使用状況）］** ビューから発行者を取得することもできます。

### 構成をテストする

上記の設定が完了したら、ログインをテストします。

* アプリケーションが最初に動作しない場合は、テストする前に毎回ブラウザの履歴と（理想的には）クッキーをクリアしてください。そうしないと、ブラウザがHTMLページの最新バージョンを取得できないか、実行に影響する古いクッキーが含まれる可能性があります。
* SSOのトラブルシューティングを支援するために、インタラクションのHTTPトレースをキャプチャします。多くのツールは、分析のためにブラウザからのHTTPトラフィックをキャプチャします。

  + インターネットで「HTTP Trace」を検索し、ツールを見つけてインストールします。
  + ログインシーケンスを最初から最後までキャプチャし、トレースを分析します。GETのシーケンスを追跡して、予想されるシーケンスのどこまで取得できるかを確認します。元のサイトからSPへ、次にIdPへリダイレクトされ、ログインする必要がある場合は資格情報が投稿され、コールバック URLまたはSPへリダイレクトされ、最後にアプリケーションで指定されたコールバックURLへリダイレクトされます。
* ブラウザでクッキーとJavaScriptが有効になっていることを確認してください。
* [http://samltool.io](http://samltool.io)ツールを使用してSAMLアサーションをデコードします。

## もっと詳しく

* [SAMLアサーションをカスタマイズする](/docs/ja-jp/authenticate/protocols/saml/saml-configuration/customize-saml-assertions)
* [SAML構成のトラブルシューティング](/docs/ja-jp/troubleshoot/authentication-issues/troubleshoot-saml-configurations)
* [SAML IDプロバイダーの構成設定](/docs/ja-jp/authenticate/protocols/saml/saml-identity-provider-configuration-settings)