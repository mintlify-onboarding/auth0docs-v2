---
title: "パートナー向けリダイレクトアクション"
permalink: "redirect-actions-for-partners"
'description': "リダイレクトアクションと、Auth0 Marketplaceパートナーがこのアクションを使ってどのようにログインフローをカスタマイズできるかについて説明します。"
'og:title': "パートナー向けリダイレクトアクション"
'og:description': "リダイレクトアクションと、Auth0 Marketplaceパートナーがこのアクションを使ってどのようにログインフローをカスタマイズできるかについて説明します。"
'og:image': "https://cdn2.auth0.com/docs/1.14576.0/img/share-image.png"
'twitter:title': "パートナー向けリダイレクトアクション"
'twitter:description': "リダイレクトアクションと、Auth0 Marketplaceパートナーがこのアクションを使ってどのようにログインフローをカスタマイズできるかについて説明します。"
---

ユーザーのログインまたはサインアップ時にリダイレクトアクションを使用すると、ユーザーは外部のページ（同意フォームなど）に一度リダイレクトされてから、Auth0に戻ってログインやサインアップの手続きを済ませることができます。ユーザーを外部のアプリケーションにリダイレクトし、以下のようなアクションを実行するように促すことができます。

* アクションを起こす（IDプルーフィングなど）
* 情報を提供する（プログレッシブプロファイリング）
* 何かに同意する（同意書やサービス規約など）

<Frame>![Post Login（ログイン後）トリガーでのリダイレクトアクションの図：顧客アプリケーションは、ユーザーをAuth0にリダイレクトしてログインさせます。ログインが成功すると、Post Loginトリガー内のすべてのアクションが実行されます（MFAが有効な場合は、MFAの前に実行されます）。アクションがリダイレクトをトリガーすると、ユーザーは指定されたURLに状態パラメーターと共に送信されます。このURLは、お使いのサービスまたは顧客によってホストされていなければなりません。ユーザーは、元の状態値と共に、特定のパスでAuth0にリダイレクトまたはPOSTされ、その後、ActionがonContinuePostLoginに存在するコードを実行します。ユーザーは、自身のIDと共にアプリケーションに戻されるか、何かが失敗した場合はエラーメッセージが表示されます。](/docs/images/ja-jp/cdy7uua7fh8z/7fNydolHKmq8Ke9AuyDxTT/4910d6646a29f95de3f1a4fdee3f46d7/Action_Flow_-_Redirect.png)</Frame>

以下のプロセスがリダイレクトアクションで起こります。

1. **顧客アプリケーション**は、ユーザーをAuth0にリダイレクトしてログインさせます。
2. ログインが成功すると、[Post Loginトリガー](/docs/ja-jp/customize/actions/explore-triggers/signup-and-login-triggers/login-trigger)内のすべてのアクションが実行されます（MFAが有効な場合は、MFAの前に実行されます）。
3. アクションがリダイレクトをトリガーすると、ユーザーは指定されたURLに状態パラメーターと共に送信されます。このURLは、お使いのサービスまたは顧客によってホストされていなければなりません。
4. ユーザーは、元の状態値と共に、特定のパスでAuth0にリダイレクトまたはPOSTされ、その後、Actionが`onContinuePostLogin`に存在するコードを実行します。
5. ユーザーは、自身のIDと共にアプリケーションに戻されるか、何かが失敗した場合はエラーメッセージが表示されます。

サービスをプロセスに紐づける準備ができたら、以下の重要な要素を検討してください。

* Auth0からリダイレクトするタイミングについて、どのように判断するのか?

  + [ユーザーのapp_metadata](/docs/ja-jp/manage-users/user-accounts/metadata/manage-metadata-rules)でフラグを立てるのか?
  + クライアント側の特定のメタデータフィールドに基づくのか?
* 検証すべき既存のユーザープロファイルデータをどのように処理するのか?（このデータはユーザーが提供したものか、Google、Facebook、Microsoft Entra IDなどフェデレーションIDソースからのものである可能性があります。）
* ご利用のサービスでAuth0からどのようなデータが必要で、どうやって安全に取得するのか?
* ご利用のサービスでAuth0からどのように状態値を永続化するのか?
* POST/リダイレクトしたい`/continue` URLをどのように取得・永続化するのか?
* Auth0に何を返却し、これをどうやって安全に実行するのか?
* IDプルーフィングが完了し、成功した状態であることをどのように示すか?
* [ユーザーのapp_metadata](/docs/ja-jp/manage-users/user-accounts/metadata/manage-metadata-rules)または[正規化ユーザープロファイル](/docs/ja-jp/manage-users/user-accounts/user-profiles/user-profile-structure)
* [レート制限](/docs/ja-jp/troubleshoot/customer-support/operational-policies/rate-limit-policy/management-api-endpoint-rate-limits)に注意し、必要なときだけ更新する
* [カスタムトークンクレーム](/docs/ja-jp/get-started/apis/scopes/sample-use-cases-scopes-and-claims)を使って、要求側アプリケーションに情報をどのように戻すのか?

これらすべての質問等に対する回答については、「[アクションを使ってリダイレクトする](/docs/ja-jp/customize/actions/explore-triggers/signup-and-login-triggers/login-trigger/redirect-with-actions)」をお読みください。アクション統合を送信する準備ができたら、「[パートナー向けアクション統合](/docs/ja-jp/customize/integrations/marketplace-partners/actions-integrations-for-partners)