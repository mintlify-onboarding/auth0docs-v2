---
title: "Auth0 Androidの構成オプション"
permalink: "auth0-android-configuration"
'description': "アプリケーションのニーズに対応するためにAuth0.Androidを構成する方法"
'og:title': "Auth0 Androidの構成オプション"
'og:description': "アプリケーションのニーズに対応するためにAuth0.Androidを構成する方法"
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/img/share-image.png"
'twitter:title': "Auth0 Androidの構成オプション"
'twitter:description': "アプリケーションのニーズに対応するためにAuth0.Androidを構成する方法"
---

Auth0.Androidは、以下に挙げるさまざまなオプションを使って構成することができます。

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

以下のオプションは、前のV1リリースから変更されています。詳細については、移行ガイドを参照してください。

</Callout>

## withConnection

`withConnection`オプションを使用すると、認証に使用する接続を指定できます。

```kotlin lines
WebAuthProvider.login(account)
                .withConnection("twitter")
                .start(this, callback)
```

## withScope

スコープを使用すると、要求にある特定のフィールドで特定のクレームを返すことができます。`withScope`にパラメーターを追加すると、さらに多くのスコープを追加できます。詳細については、「[スコープ](/docs/ja-jp/get-started/apis/scopes)」を参照してください。

```kotlin lines
WebAuthProvider.login(account)
                .withScope("openid profile email")
                .start(this, callback)
```

デフォルトのスコープは、`openid profile email`です。

## withConnectionScope

特定の接続スコープや、当該の認証プロバイダーからの許可を使用して認証する必要がある場合があります。「[外部IDPのためのスコープの追加](/docs/ja-jp/connections/adding-scopes-for-an-external-idp)」を参照してください。ただし、アプリ内の特定の状況に対して特定のアクセスが必要な場合は、`withConnectionScope`にパラメーターを渡すことができます。使用可能なパラメーターの完全なリストは、[Dashboard](https://manage.auth0.com/#)からその接続の設定で確認するか、認証プロバイダーのドキュメントで確認できます。ここで要求されたスコープは、Dashboardの接続設定で指定されたスコープの上に追加されます。

```kotlin lines
WebAuthProvider.login(account)
                .withConnectionScope("email", "profile", "calendar:read")
                .start(this, callback)
```

## withParameters

認証で追加のパラメーターを送信するには、`withParameters`を使用します。

```kotlin lines
val parameters = mapOf("param1" to "value1")

WebAuthProvider.login(account)
                .withParameters(parameters)
                .start(this, callback)
```

## withHeaders

認可エンドポイントにカスタムヘッダーを送信するには、`withHeaders`を使用します。

```kotlin lines
val headers = mapOf("header1" to "value1")

WebAuthProvider.login(account)
                .withHeaders(headers)
                .start(this, callback)
```

## withScheme

Androidの「アプリリンク」を使用していない場合や、リダイレクトURIに異なるスキームを使用する場合は、`withScheme`を使用します。`app/build.gradle`ファイルの`auth0Scheme`マニフェストプレースホルダーと、[Dashboard](https://manage.auth0.com/#)のアプリケーション設定にあるAllowListの **［Allowed Callback URLs（許可されているコールバックURL）］** を更新し、選択したスキームと一致するようにします。

```kotlin lines
WebAuthProvider.login(account)
                .withScheme("myapp")
                .start(this, callback)
```

<Warning>

スキームは、小文字でなければならず、アンダースコアを含めることはできません。

</Warning>

## withAudience

オーディエンスを提供するには、`withAudience`を使用します。

```kotlin lines
WebAuthProvider.login(account)
                .withAudience("https://YOUR_DOMAIN/userinfo")
                .start(this, callback)
```

