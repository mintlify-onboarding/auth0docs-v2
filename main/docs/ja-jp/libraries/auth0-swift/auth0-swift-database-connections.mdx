---
title: "Auth0.swift：データベース接続を使用する"
permalink: "auth0-swift-database-connections"
'description': "Auth0.Swiftでデータベース接続を使用します"
'og:title': "Auth0.swift：データベース接続を使用する"
'og:description': "Auth0.Swiftでデータベース接続を使用します"
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/img/share-image.png"
'twitter:title': "Auth0.swift：データベース接続を使用する"
'twitter:description': "Auth0.Swiftでデータベース接続を使用します"
---

<Card title="ネイティブプラットフォームでのデータベース認証">

2017年6月8日以降、新規テナントでは、ネイティブアプリケーションから行うユーザー名/メールアドレスとパスワードを使った認証がデフォルトで無効になっています。代わりに、ユニバーサルログインを使用してWeb認証を行うことが推奨されています。引き続き利用したい場合は、まずダッシュボードで［Password Grant Type（パスワード付与タイプ）］を有効にする必要があります。詳細については、「[アプリケーションの付与タイプ](/docs/ja-jp/get-started/applications/application-grant-types)」を参照してください。

</Card>

Authentication APIは、データベースユーザーの認証やサインアップにメソッドを提供しています。

## データベース接続でサインアップする

サインアップするには、`createUser`メソッドを呼び出して、ユーザーの`email`、`password`、`connection`名を渡し、サインアッププロセスを始める必要があります。追加のユーザーメタデータを指定して保管することもできます。

```swift lines
Auth0
    .authentication()
    .createUser(
        email: "support@auth0.com",
        password: "secret-password",
        connection: "Username-Password-Authentication",
        userMetadata: ["first_name": "First",
                       "last_name": "Last"])
    .start { result in
        switch result {
        case .success(let user):
            print("User: \(user)")
        case .failure(let error):
            print("Failed with \(error)")
        }
    }
```

## データベース接続でログインする

データベース接続でログインするには、`login`を呼び出して、ユーザーのユーザー名またはメールアドレス、パスワード、認証に使用する接続の名前（`Username-Password-Authentication`など）を渡す必要があります。応答は資格情報オブジェクトになります。

```swift lines
Auth0
    .authentication()
    .login(
        usernameOrEmail: "support@auth0.com",
        password: "secret-password",
        realm: "Username-Password-Authentication",
        scope: "openid")
     .start { result in
         switch result {
         case .success(let credentials):
            print("Credentials: \(credentials)")
         case .failure(let error):
            print("Failed with \(error)")
         }
     }
```

