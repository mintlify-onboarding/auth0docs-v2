---
title: "APIの呼び出しをチェックする"
permalink: "check-api-calls"
'description': "API呼び出しを確認して、問題のトラブルシューティング方法について説明します。"
'og:title': "APIの呼び出しをチェックする"
'og:description': "API呼び出しを確認して、問題のトラブルシューティング方法について説明します。"
'og:image': "https://cdn2.auth0.com/docs/1.14576.0/img/share-image.png"
'twitter:title': "APIの呼び出しをチェックする"
'twitter:description': "API呼び出しを確認して、問題のトラブルシューティング方法について説明します。"
---

## Management APIの呼び出しをチェックする

* [Management APIのアクセストークン](/docs/ja-jp/secure/tokens/access-tokens/management-api-access-tokens)をお持ちですか?
* アクセストークンは期限切れですか?
* アクセストークンに呼び出しに必要なスコープが含まれていましたか?
* ルールがアクセストークンのスコープを調整したり、特定のユーザーにスコープを持つことが許可されているかを確認したりする場合、ルールが正しく実行されていることを確認しましたか?
* [HARファイル](/docs/ja-jp/troubleshoot/troubleshooting-tools/generate-and-analyze-har-files)からアクセストークンを取得し、[Auth0 Management API Explorer](/docs/api/management/v2)でテストして機能するかどうかを確認します。

  <Warning>

  HARファイルを（Auth0を含む）誰かと共有するときは、必ず事前に以下を含むすべての機密データを削除または難読化してください。

  + ユーザーの機密情報
  + 個人を特定できる情報（PII）
  + アプリケーションの機密情報

  詳細については、[Auth0コミュニティ](https://community.auth0.com)の以下の記事をお読みください。

  + [HTTPトレースのサニタイズ](https://community.auth0.com/t/sanitizing-http-traces/119488)
  + [HTTPトレースファイルを自動的にサニタイズする方法](https://community.auth0.com/t/how-to-sanitize-a-http-trace-file-automatically/120583)
  + [機密情報を手動で編集する方法](https://community.auth0.com/t/how-to-manually-redact-sensitive-information/122554)
  + [HARファイルが大きすぎてサポートケースにアップロードできない場合](https://community.auth0.com/t/har-file-is-too-large-to-upload-to-the-support-case/122488)
  </Warning>

* [クライアントの資格情報フロー](/docs/ja-jp/get-started/authentication-and-authorization-flow/client-credentials-flow)で認証を行うアプリケーションからAuth0 <Tooltip data-tooltip-id="react-containers-DefinitionTooltip-0" href="/docs/ja-jp/glossary?term=management-api" tip="Management API: 顧客が管理タスクを実行できるようにするための製品。" cta="用語集の表示">Management API</Tooltip>を呼び出している場合には、ルールがこのコンテキストで実行されていないので注意してください。ルールに類似する機能が必要な場合、[マシンツーマシンフロー](/docs/ja-jp/customize/actions/explore-triggers/machine-to-machine-trigger)の`credentials-exchange`アクショントリガーをこのコンテキストで代用することができます。

## その他のAPIの呼び出しをチェックする

* HARファイルで、アクセストークンにAPIを呼び出すための正しいスコープが含まれているかどうかを確認します。

  <Warning>

  HARファイルを（Auth0を含む）誰かと共有するときは、必ず事前に以下を含むすべての機密データを削除または難読化してください。

  + ユーザーの機密情報
  + 個人を特定できる情報（PII）
  + アプリケーションの機密情報

  詳細については、[Auth0コミュニティ](https://community.auth0.com)の以下の記事をお読みください。

  + [HTTPトレースのサニタイズ](https://community.auth0.com/t/sanitizing-http-traces/119488)
  + [HTTPトレースファイルを自動的にサニタイズする方法](https://community.auth0.com/t/how-to-sanitize-a-http-trace-file-automatically/120583)
  + [機密情報を手動で編集する方法](https://community.auth0.com/t/how-to-manually-redact-sensitive-information/122554)
  + [HARファイルが大きすぎてサポートケースにアップロードできない場合](https://community.auth0.com/t/har-file-is-too-large-to-upload-to-the-support-case/122488)
  </Warning>

* `/authorize`エンドポイントの呼び出しに対する応答に、スコープオブジェクトが含まれているかどうかを確認します。含まれている場合は、返されたスコープが要求されたスコープと異なるかどうかを確認します。
* APIが[アクセストークンを検証](/docs/ja-jp/secure/tokens/access-tokens/validate-access-tokens)できることを確認します。検証されるのは、オーディエンス、発行者、クライアント、署名アルゴリズム、署名、クレーム、およびアクセス許可です。
* アクセストークンの有効期限に関するエラーが発生した場合、異なるシステムまたはJavaやNode.jsといった異なる言語ライブラリーにまたがって現れたクロックスキューの違いが原因である可能性があります。この問題に対処するためには、サーバー上でNTPを実行し、[jwt.verify](https://github.com/auth0/node-jsonwebtoken#jwtverifytoken-secretorpublickey-options-callback)などのトークンの検証に使用するライブラリーのクロックスキュー許容度を構成します。

<Note>

問題の解決に役立つログイベントについては、[Monitoring（モニタリング）ページ](/docs/ja-jp/deploy-monitor/monitor)を参照してください。

</Note>

## もっと詳しく

* [PKCEを使った認可コードフローで独自のAPIを呼び出し](/docs/ja-jp/get-started/authentication-and-authorization-flow/authorization-code-flow-with-pkce/call-your-api-using-the-authorization-code-flow-with-pkce)
* [認可コードフローを使用してAPIを呼び出す](/docs/ja-jp/get-started/authentication-and-authorization-flow/authorization-code-flow/call-your-api-using-the-authorization-code-flow)
* [クライアントの資格情報フローを使用してAPIを呼び出す](/docs/ja-jp/get-started/authentication-and-authorization-flow/client-credentials-flow/call-your-api-using-the-client-credentials-flow)
* [デバイス認可フローを使用してAPIを呼び出す](/docs/ja-jp/get-started/authentication-and-authorization-flow/device-authorization-flow/call-your-api-using-the-device-authorization-flow)