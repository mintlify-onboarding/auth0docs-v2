---

mode: wide
description: This tutorial demonstrates how to use the nginx-openid-connect module
  to add authentication and authorization to your NGINX server.
'og:image': https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
'og:title': 'Auth0 NGINX Plus SDK Quickstarts: NGINX Plus'
'og:url': https://auth0.com/docs/
title: NGINX Plus
'twitter:description': This tutorial demonstrates how to use the nginx-openid-connect
  module to add authentication and authorization to your NGINX server.
'twitter:title': 'Auth0 NGINX Plus SDK Quickstarts: NGINX Plus'
---
import { Recipe, Content, Section, SideMenu, SideMenuSectionItem, SignUpForm } from "/snippets/recipe.jsx";
import { LoggedInForm } from "/snippets/Login.jsx";
import Nginx from "/snippets/quickstart/webapp/nginx-plus/nginx.conf.mdx";
import OpenidConnectionConfiguration from "/snippets/quickstart/webapp/nginx-plus/openid_connection_configuration.conf.mdx";
import OpenidConnect from "/snippets/quickstart/webapp/nginx-plus/openid_connect.server_conf.mdx";
import Frontend from "/snippets/quickstart/webapp/nginx-plus/frontend.conf.mdx";

import {AuthCodeGroup} from "/snippets/AuthCodeGroup.jsx";

export const sections = [
  { id: "system-requirements", title: "System requirements" },
  { id: "install-and-enable-nginx-plus-module-njs-module", title: "Install and enable nginx-plus-module-njs module" },
  { id: "checkout-nginx-openid-connect-template-repository", title: "Checkout nginx-openid-connect template repository" },
  { id: "configure-nginx-with-your-auth0-application-details", title: "Configure NGINX with your Auth0 application details" },
  { id: "configure-accept-encoding-header-for-token-and-jwks-endpoints", title: "Configure Accept-Encoding header for token and JWKS endpoints" },
  { id: "copy-openid-connect-configuration-files", title: "Copy OpenID Connect configuration files" },
  { id: "configure-auth0-application-settings", title: "Configure Auth0 application settings" },
  { id: "pass-headers-to-upstream-application", title: "Pass headers to upstream application" }
]

<Recipe>
  <Content>
    This tutorial demonstrates how to use the nginx-openid-connect module to add authentication and authorization to
        your NGINX server. We recommend that you log in to follow this quickstart with examples configured for your account.

    <Section id={sections[0].id} title={sections[0].title} stepNumber="1">
      This tutorial and seed project have been tested with the following:

      - NGINX Plus R24
    </Section>

    <Section id={sections[1].id} title={sections[1].title} stepNumber="2">
      First, you need to install the `nginx-plus-module-njs` module for NGINX Plus.

      Follow the dynamic module installation guide to install packages in your host OS.

      For Linux distributions that use `yum` package manager, you can install the module like so:

      ```sh lines
      sudo yum install nginx-plus-module-njs jq
      ```

      Once you've installed it, you need to enable it for NGINX by adding the following line near the top of your
            `/etc/nginx/nginx.conf` file:

      ```sh lines
      load_module modules/ngx_http_js_module.so;
      ```
    </Section>

    <Section id={sections[2].id} title={sections[2].title} stepNumber="3">
      Clone the `nginx-openid-connect` repository. This repository comes with a template configuration.

      ```sh lines
      git clone https://github.com/nginxinc/nginx-openid-connect
      ```
    </Section>

    <Section id={sections[3].id} title={sections[3].title} stepNumber="4">
      Run the configure.sh script inside the nginx-openid-connect folder to populate the template configuration for
            your Auth0 application:

      ```sh lines
      ./configure.sh --auth_jwt_key request \
      --client_id {yourClientId} \
      --pkce_enable \
      https://{yourDomain}/.well-known/openid-configuration
      ```


      Next, add your [tenant’s logout URL](https://auth0.com/docs/api/authentication#auth0-logout) to your
            `openid_connect_configuration.conf` file.
    </Section>

    <Section id={sections[4].id} title={sections[4].title} stepNumber="5">
      Add the `Accept-Encoding` header and set the value to `gzip` in your
            `openid_connect.server_conf` file.
    </Section>

    <Section id={sections[5].id} title={sections[5].title} stepNumber="6">
      Copy your four configuration files to the `conf.d` folder.

      ```sh lines
      sudo cp openid_connect.js \ 
      frontend.conf \
      openid_connect_configuration.conf \
      openid_connect.server_conf /etc/nginx/conf.d
      ```

    </Section>

    <Section id={sections[6].id} title={sections[6].title} stepNumber="7">
      In the Auth0 Dashboard:

      1. Go to **Applications** > **Applications**, and then select your application from the list.
      2. Switch to the **Settings** view.
      3. In the **Application URIs** section, add `https://{yourDomain}/_codexch`
                to **Allowed Callback URLs**.
      4. Switch to the **Credentials** view.

      In the **Application Authentication** section, set **Authentication Method** to None.
    </Section>

    <Section id={sections[7].id} title={sections[7].title} stepNumber="8">
      Add additional headers from the ID token (JWT) to the upstream target in your
            `/etc/nginx/conf.d/frontend.conf` file.
    </Section>

    ## Next Steps

    Excellent work! If you made it this far, you should now have login, logout, and user profile information running in your application.

    This concludes our quickstart tutorial, but there is so much more to explore. To learn more about what you can do with Auth0, check out:

    *   [Auth0 Dashboard](https://manage.auth0.com/dashboard/us/dev-gja8kxz4ndtex3rq) - Learn how to configure and manage your Auth0 tenant and applications
    *   [Auth0 Marketplace](https://marketplace.auth0.com/) - Discover integrations you can enable to extend Auth0’s functionality
  </Content>

  <SideMenu sections={sections}>
    <SideMenuSectionItem id={sections[0].id}>
      <SignUpForm />
    </SideMenuSectionItem>

    <SideMenuSectionItem id={sections[1].id}>
      <AuthCodeGroup>
        <Nginx/>
        <OpenidConnectionConfiguration/>
        <OpenidConnect/>
        <Frontend/>
      </AuthCodeGroup>
    </SideMenuSectionItem>

    <SideMenuSectionItem id={sections[2].id}>
      <SignUpForm />
    </SideMenuSectionItem>

    <SideMenuSectionItem id={sections[3].id}>
      <AuthCodeGroup>
        <OpenidConnectionConfiguration/>
        <Nginx/>
        <OpenidConnect/>
        <Frontend/>
      </AuthCodeGroup>
    </SideMenuSectionItem>

    <SideMenuSectionItem id={sections[4].id}>
      <AuthCodeGroup>
        <OpenidConnect/>
        <Nginx/>
        <OpenidConnectionConfiguration/>
        <Frontend/>
      </AuthCodeGroup>
    </SideMenuSectionItem>

    <SideMenuSectionItem id={sections[5].id}>
      <SignUpForm />
    </SideMenuSectionItem>

    <SideMenuSectionItem id={sections[6].id}>
      <SignUpForm />
    </SideMenuSectionItem>

    <SideMenuSectionItem id={sections[7].id}>
      <AuthCodeGroup>
        <Frontend/>
        <Nginx/>
        <OpenidConnectionConfiguration/>
        <OpenidConnect/>
      </AuthCodeGroup>
    </SideMenuSectionItem>

  </SideMenu>
</Recipe>
