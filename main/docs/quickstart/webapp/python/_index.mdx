---
title: Add Login to Your Python Flask Application
sidebarTitle: Python

---
import { Recipe, Content, Section, SideMenu, SideMenuSectionItem, SignUpForm } from "/snippets/recipe.jsx";
import { LoggedInForm } from "/snippets/Login.jsx";
import Server from "/snippets/quickstart/webapp/python/server.py.mdx";
import Home from "/snippets/quickstart/webapp/python/home.html.mdx";

export const sections = [
      { id: "configure-auth0", title: "Configure Auth0" },
      { id: "install-dependencies", title: "Install dependencies" },
      { id: "configure-your-env-file", title: "Configure your .env file" },
      { id: "setup-your-application", title: "Setup your application" },
      { id: "setup-your-routes", title: "Setup your routes" },
      { id: "add-templates", title: "Add templates" },
      { id: "run-your-application", title: "Run your application" }
]

<Recipe isSingleColumn>
  <Content>
    Auth0 allows you to add authentication and gain access to user profile information in your application. This guide
        demonstrates how to integrate Auth0 with a Python [Flask](https://flask.palletsprojects.com/) application using the [Authlib](https://authlib.org/) SDK.

    <Section id={sections[0].id} title={sections[0].title} stepNumber="1" isSingleColumn>
      To use Auth0 services, you‚Äôll need to have an application set up in the Auth0 Dashboard. The Auth0 application is
            where you will configure how you want authentication to work for the project you are developing.

      ### Configure an application

      Use the interactive selector to create a new Auth0 application or select an existing application that represents
            the project you want to integrate with. Every application in Auth0 is assigned an alphanumeric, unique client ID
            that your application code will use to call Auth0 APIs through the SDK.

      Any settings you configure using this quickstart will automatically update for your Application in the [Dashboard](https://manage.auth0.com/#/), which is where you
            can manage your Applications in the future.

      If you would rather explore a complete configuration, you can view a sample application instead.

      ### Configure Callback URLs

      A callback URL is a URL in your application that you would like Auth0 to redirect users to after they have
            authenticated. If not set, users will not be returned to your application after they log in.

      <Callout icon="file-lines" iconType="regular">
      If you are following along with our sample project, set this to
                      `http://localhost:3000/callback`.
      </Callout>

      ### Configure Logout URLs

      A logout URL is a URL in your application that you would like Auth0 to redirect users to after they have logged
            out. If not set, users will not be able to log out from your application and will receive an error.

      <Callout icon="file-lines" iconType="regular">
      If you are following along with our sample project, set this to `http://localhost:3000`.
      </Callout>
    
    <LoggedInForm />
</Section>

    <Section id={sections[1].id} title={sections[1].title} stepNumber="2" isSingleColumn>
      Create a `requirements.txt` file in your project directory:

      ```txt lines
      # üìÅ requirements.txt -----
      flask>=2.0.3
      python-dotenv>=0.19.2
      authlib>=1.0
      requests>=2.27.1
      ```


      Run the following command from your shell to enable these dependencies in your project:

      ```bash lines
      pip install -r requirements.txt
      ```

    
    <LoggedInForm />
</Section>

    <Section id={sections[2].id} title={sections[2].title} stepNumber="3" isSingleColumn>
      Next, create an `.env` file in your project directory. This file will hold your client keys and other
            configuration details.

      ```env lines
      # üìÅ .env -----
      AUTH0_CLIENT_ID=mz9iNEIo2PHu7oeh8QRt19ndTyyCIgai
      AUTH0_CLIENT_SECRET=yLTW7npKO4g1HHsCENiZbOaHHXLmhVefJxdNnXcyhOBOomZ2tgjJjSC2pMK7Swvr
      AUTH0_DOMAIN=dev-gja8kxz4ndtex3rq.us.auth0.com
      APP_SECRET_KEY=
      ```


      - Generate a string for `APP_SECRET_KEY`using `openssl rand -hex 32`from your shell.
    
    <LoggedInForm />
</Section>

    <Section id={sections[3].id} title={sections[3].title} stepNumber="4" isSingleColumn>
      Next, set up your application. Create a `server.py` file in your project directory - this file will
            contain your application logic.

      Import all the libraries your application needs.

      Load the configuration `.env` file you made in the previous step.

      Configure Authlib to handle your application's authentication with Auth0. To learn more about the configuration
            options available for Authlib's OAuth `register()` method from [their documentation.](https://docs.authlib.org/en/latest/client/frameworks.html#using-oauth-2-0-to-log-in)
    
    <CodeGroup>
            <Home/>
            <Server/>
          </CodeGroup>
</Section>

    <Section id={sections[4].id} title={sections[4].title} stepNumber="5" isSingleColumn>
      In this example, you will add four routes to the application: login, callback, logout, and home.

      When visitors to your app visit the `/login` route, your application will route them to the Auth0
            login page.

      After your users log in with Auth0, your application will route them to the `/callback` route. This
            route saves the session for the user and bypasses the need for them to login again when they return.

      The `/logout` route signs users out from your application. This route clears the user session in your
            app and redirects to the Auth0 logout endpoint to ensure the session is no longer saved. Then, the application
            redirects the user to your home route.

      Your `/`home route either renders an authenticated user's details or allows visitors to sign in.
    
    <CodeGroup>
            <Server/>
            <Home/>
          </CodeGroup>
</Section>

    <Section id={sections[5].id} title={sections[5].title} stepNumber="6" isSingleColumn>
      Next, create the template file used in the home route (during `render_template()` calls).

      Create a new sub-directory in your project folder named `templates`, and create `home.html`
            in the directory. Paste the content from the right into that file.
    
    <LoggedInForm />
</Section>

    <Section id={sections[6].id} title={sections[6].title} stepNumber="7" isSingleColumn>
      To run your application, navigate to the root of your project directory and open a terminal. Run the following
            command:

      ```bash lines
      python3 server.py
      ```

      <Callout icon="file-lines" iconType="regular">
      ##### Checkpoint

      Visit [http://localhost:3000](http://localhost:3000/) to verify. You should find a login button routing to
                    Auth0 for login, then back to your application to see your profile information.
      </Callout>
    
    <LoggedInForm />
</Section>

    ## Next Steps

    Excellent work! If you made it this far, you should now have login, logout, and user profile information running in your application.

    This concludes our quickstart tutorial, but there is so much more to explore. To learn more about what you can do with Auth0, check out:

    *   [Auth0 Dashboard](https://manage.auth0.com/dashboard/us/dev-gja8kxz4ndtex3rq) - Learn how to configure and manage your Auth0 tenant and applications
    *   [auth0-python SDK](https://github.com/auth0/auth0-python) - Explore the SDK used in this tutorial more fully
    *   [Auth0 Marketplace](https://marketplace.auth0.com/) - Discover integrations you can enable to extend Auth0‚Äôs functionality
  </Content>

  
</Recipe>
